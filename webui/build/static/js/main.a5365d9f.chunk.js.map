{"version":3,"sources":["components/Themes/LightTheme.js","components/Layout/Header.js","components/Layout/NavBar.js","components/Main/MainStyles.js","components/SimpleCard/SimpleCard.js","components/WebCamera/Camera.js","components/WebCamera/WebCamera.js","components/Status/Status.js","components/Configure/Stepper.js","components/Configure/Configure.js","redux/actions/actionTypes/index.js","components/BaseData/LinkExportToCSV.js","components/SensorStream/SensorDataChart.js","components/SensorStream/SensorStream.js","redux/selectors/sensorData/index.js","components/Results/ResultsFilter.js","components/Results/Results.js","components/Record/Record.js","components/TestMode/TestMode.js","components/Main/Main.js","redux/sagas/errors/index.js","services/StreamReader/errors.js","services/StreamReader/index.js","configs/index.js","redux/repositories/StreamSensorReader.js","redux/sagas/stream/watchStreamSensorStart.js","redux/sagas/stream/watchStreamSensorStop.js","redux/sagas/stream/index.js","redux/sagas/sensorData/watchSetChunkSensorData.js","redux/sagas/sensorData/index.js","redux/sagas/index.js","redux/reducers/root/index.js","redux/reducers/errors/index.js","redux/reducers/stream/index.js","redux/reducers/sensorData/index.js","redux/reducers/index.js","redux/store.jsx","services/api/index.js","App.js","index.js"],"names":["LightTheme","props","theme","useTheme","currentTheme","createMuiTheme","palette","primary","light","lightBlue","main","dark","contrastText","getContrastText","accent","deepOrange","secondary","secondaryRed","red","notSelected","blueGrey","error","record","children","Header","classes","makeStyles","navbarDisplayFlex","display","justifyContent","navDisplayFlex","linkText","textDecoration","textTransform","color","appBar","zIndex","drawer","AppBar","position","className","Toolbar","Typography","variant","useStyles","root","width","flexShrink","drawerPaper","drawerContainer","overflow","content","flexGrow","padding","spacing","section1","margin","InconSelector","index","Connected","Grid","isConnected","Button","aria-label","text","disabled","NavBar","Drawer","paper","List","map","ListItem","button","onClick","viewId","event","onChange","ListItemIcon","ListItemText","Divider","isCameraConnected","toolbar","alignItems","mixins","minWidth","bullet","transform","title","fontSize","backgroundColor","pos","marginBottom","marginTop","SimpleCard","item","xs","Card","CardContent","align","name","list","dense","value","split","Camera","console","log","src","cameraKey","alt","details","flexDirection","flex","controls","paddingLeft","paddingBottom","section2","textAlign","handleCameraRequest","setCameraView","setIsCameraConnected","setCameraKey","axios","post","process","camera_index","event_type","then","response","data","Math","random","toString","substring","WebCamera","React","useState","component","cameraView","container","rows","fullWidth","Status","config","setConfig","deviceDisabled","setDeviceDisabled","useEffect","get","res","mapdata","mode","setStreamingMode","setIsConnected","streaming","setColumns","Object","keys","column_location","sort","setStreamingSource","source","setDeviceID","device_id","camera_on","join","class","columns","sample_rate","handleDisconnectRequest","handleConnectRequest","backButton","marginRight","instructions","stepIcon","HorizontalLabelPositionBelowStepper","steps","Stepper","activeStep","alternativeLabel","label","Step","StepLabel","active","StepIconProps","formControl","Configure","streamingSource","setSource","streamingMode","setMode","deviceID","setError","scanHelperText","setScanHelperText","setHelperText","deviceRows","setDeviceRows","configuring","setIsConfiguring","scanning","setIsScanning","onSubmit","preventDefault","toLowerCase","catch","detail","status","headers","request","FormControl","FormLabel","RadioGroup","target","row","FormControlLabel","control","Radio","TextField","id","type","style","height","field","headerName","onRowSelected","pageSize","FormHelperText","SET_GLOBAL_LOADER","FETCH_DATA_ERROR_MSG","SET_DATA_ERROR_MSG","START_STREAM_SENSOR_SAGA","STOP_STREAM_SENSOR_SAGA","SET_IS_STREAMING_SENSOR","SET_IS_STREAMING_SENSOR_RECORDING","SET_STREAM_SENSOR_DATA_RESET","SET_CHUNK_SENSOR_DATA_SAGA","SET_STREAM_SENSOR_DATA","SET_STREAM_SENSOR_RECORD_DATA","linkWrapper","link","icon","marginLeft","cursor","LinkExportToCSV","deleteFile","csvReport","filename","Box","SensorDataChart","sensorData","countSamples","revision","setRevision","opacity","length","x","layout","visible","autosize","l","r","b","t","pad","xaxis","autorange","yaxis","cardWrapper","dataWrapper","chartWrapper","buttonWrapper","zeroOpacity","SensorStream","column","COUNT_SAMPLES","dispatch","useDispatch","isSplitCharts","SetIsSplitCharts","useSelector","state","stream","isStreamingSensor","isStreamingSensorRecording","sensorSimpleData","result","y","forEach","el","i","push","floor","sensorRecordedData","unshift","sensorRecordedDataToCsv","exportCsvRecordedData","countRecordedData","startSensorStreaming","useCallback","payload","stopSensorStreaming","setRecording","isRecording","setClearRecording","setClearStream","Switch","checked","inputProps","ResultsFilter","filter_length","m","Classification","max","entries","key","filterData","id_counter","sliderroot","sliderinput","handleStreamRequest","url","setStreamCallback","setIsStreaming","setReader","fetch","method","reader","body","getReader","ReadableStream","start","controller","read","done","close","results","array","String","fromCharCode","apply","pop","JSON","parse","bin2String","Response","Results","isStreaming","filterLength","setfilterLength","cancel","handleStopStreaming","alignContent","Slider","newValue","aria-labelledby","min","sortModel","Record","recording","setFilename","recordDistabled","setRecordDistabled","handleRecordRequest","Tooltip","blob","window","URL","createObjectURL","Blob","document","createElement","href","setAttribute","appendChild","click","parentNode","removeChild","handleDownloadRequest","TestMode","Main","activeView","setActiveView","setIsRecording","useSnackbar","enqueueSnackbar","closeSnackbar","errorDataMsg","errors","alertUser","e","returnValue","addEventListener","removeEventListener","CssBaseline","direction","justify","handleErrorMsg","watchErrorSaga","action","put","delay","takeEvery","BaseStreamHttpError","errorCode","constructor","Error","StreamReader","fetchUrl","this","undefined","ok","statusText","actionType","store","chunk","Int16Array","buffer","apiHosts","streamSensorReader","workerStreamStart","watchStreamSensorStart","call","debug","takeLatest","workerStreamStop","watchStreamSensorStop","streamSagas","all","fork","workerSetStreamChunkSensorData","watchSetChunkSensorData","chunkLength","updatedSensorSimpleData","select","left","right","chunkI","sensorDataSagas","rootSaga","initialState","globalLoader","rootData","streamData","createAppReducer","combineReducers","sagaMiddleware","createSagaMiddleware","middleware","composedEnhancers","composeWithDevTools","applyMiddleware","appReducer","createStore","run","interceptor_401","refreshUrl","init","baseURL","defaults","mount401Interceptor","interceptors","use","a","includes","unmount401Interceptor","eject","setCustomAuthHeader","common","Authorization","setContentType","contentType","removeHeader","resource","delete","customRequest","customJsonRequest","setAuthHeader","App","anchorOrigin","horizontal","vertical","autoHideDuration","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a5365d9f.chunk.js","sourcesContent":["import React from \"react\";\nimport { blueGrey, deepOrange, lightBlue, red } from \"@material-ui/core/colors\";\nimport { createMuiTheme, MuiThemeProvider, useTheme, } from \"@material-ui/core/styles\";\n\nconst LightTheme = (props) => {\n  const theme = useTheme();\n\n  const currentTheme = createMuiTheme({\n    palette: {\n      primary: {\n        light: lightBlue[600],\n        main: lightBlue[800],\n        dark: lightBlue[800],\n        contrastText: theme.palette.getContrastText(lightBlue[800]),\n      },\n      accent: {\n        light: deepOrange[200],\n        main: deepOrange[500],\n        dark: deepOrange[800],\n        contrastText: theme.palette.getContrastText(deepOrange[500]),\n      },\n      secondary: {\n        light: lightBlue[600],\n        main: lightBlue[700],\n        dark: lightBlue[800],\n        contrastText: theme.palette.getContrastText(lightBlue[600]),\n      },\n      secondaryRed: {\n        light: red[600],\n        main: red[700],\n        dark: red[800],\n        contrastText: theme.palette.getContrastText(red[600]),\n      },\n      notSelected: {\n        light: blueGrey[500],\n        main: blueGrey[700],\n        dark: blueGrey[800],\n        contrastText: theme.palette.getContrastText(blueGrey[600]),\n      },\n      error: {\n        light: red[200],\n        main: red[500],\n        dark: red[800],\n        contrastText: theme.palette.getContrastText(red[500]),\n      },\n      record: {\n        light: red[900],\n        main: red[900],\n        dark: red[900],\n        contrastText: theme.palette.getContrastText(red[500]),\n      },\n    },\n  });\n\n  return (\n    <MuiThemeProvider theme={currentTheme}>{props.children}</MuiThemeProvider>\n  );\n};\n\nexport default LightTheme;\n","import { AppBar, Toolbar, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport * as React from \"react\";\n\nconst useStyles = () =>\n  makeStyles((theme) => ({\n    navbarDisplayFlex: {\n      display: `flex`,\n      justifyContent: `space-between`,\n    },\n    navDisplayFlex: {\n      display: `flex-right`,\n      justifyContent: `space-between`,\n    },\n    linkText: {\n      textDecoration: `none`,\n      textTransform: `uppercase`,\n      color: `white`,\n    },\n    appBar: {\n      zIndex: theme.zIndex.drawer + 1,\n    },\n  }))();\n\nconst navLinks = [\n  { title: `company`, path: `/sensiml` },\n  { title: `contact`, path: `/contact` },\n];\n\nconst Header = () => {\n  const classes = useStyles();\n\n  return (\n    <AppBar position=\"static\" className={classes.appBar}>\n      <Toolbar>\n        <Typography variant=\"h6\">SensiML Streaming Gateway</Typography>\n      </Toolbar>\n    </AppBar>\n  );\n};\nexport default Header;\n","import { Grid } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport AssessmentIcon from \"@material-ui/icons/Assessment\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport React from \"react\";\nimport Divider from \"@material-ui/core/Divider\";\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerContainer: {\n    overflow: \"auto\",\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n\n  section1: {\n    margin: theme.spacing(2, 1),\n  },\n}));\n\nconst InconSelector = (props) => {\n  switch (props.index) {\n    case 0:\n      return <InfoIcon />;\n    case 1:\n      return <AssessmentIcon />;\n    case 3:\n      return <SettingsIcon />;\n    case 4:\n      return <InboxIcon />;\n    default:\n      return <InboxIcon />;\n  }\n};\n\nconst Connected = (props) => {\n  return (\n    <Grid>\n      {props.isConnected ? (\n        <Button color=\"primary\" variant=\"contained\" aria-label=\"connected\">\n          {props.text}: Connected\n        </Button>\n      ) : (\n        <Button variant=\"contained\" aria-label=\"disconnect\" disabled={true}>\n          {props.text}: Disconnected\n        </Button>\n      )}\n    </Grid>\n  );\n};\n\nconst NavBar = (props) => {\n  const classes = useStyles();\n\n  const handleMenu = (viewId) => (event) => {\n    props.onChange(viewId);\n  };\n\n  return (\n    <Drawer\n      className={classes.drawer}\n      variant=\"permanent\"\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n    >\n      <Toolbar />\n      <div className={classes.drawerContainer}>\n        <List>\n          {[\"Gateway Status\", \"Test Mode\", \"Configure\"].map((text, index) => (\n            <ListItem button key={text} onClick={handleMenu(index)}>\n              <ListItemIcon>\n                <InconSelector index={index}> </InconSelector>\n              </ListItemIcon>\n              <ListItemText primary={text} />\n            </ListItem>\n          ))}\n          <div className={classes.section1}>\n            <Divider></Divider>\n          </div>\n          <ListItem>\n            <Connected\n              text=\"Device\"\n              isConnected={props.isConnected}\n            ></Connected>\n          </ListItem>\n          <ListItem>\n            <Connected\n              text=\"Video\"\n              isConnected={props.isCameraConnected}\n            ></Connected>\n          </ListItem>\n        </List>\n      </div>\n    </Drawer>\n  );\n};\n\nexport default NavBar;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = () =>\n  makeStyles((theme) => ({\n    root: {\n      display: \"flex\",\n    },\n    toolbar: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-end\",\n      padding: theme.spacing(0, 1),\n      ...theme.mixins.toolbar,\n    },\n    content: {\n      flexGrow: 1,\n      width: \"100%\",\n      padding: theme.spacing(5, 5, 5, 35),\n      justifyContent: \"flex-end\",\n    },\n  }))();\n\nexport default useStyles;\n","import { Grid } from \"@material-ui/core\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n  },\n  bullet: {\n    transform: \"scale(1.0)\",\n  },\n  title: {\n    fontSize: 20,\n    backgroundColor: \"#e0e0e0\",\n  },\n  pos: {\n    marginBottom: 2,\n    marginTop: 2,\n  },\n});\n\nconst SimpleCard = (props) => {\n  const classes = useStyles();\n  return (\n    <Grid item xs={props.xs}>\n      <Card className={classes.root}>\n        <CardContent>\n          <Typography\n            align=\"center\"\n            className={classes.title}\n            color=\"textPrimary\"\n          >\n            {props.name}\n          </Typography>\n          {props.list ? (\n            <div className={classes.bullet}>\n              <List dense={true}>\n                {props.value.split(\",\").map((value) => (\n                  <ListItem>\n                    <ListItemText align=\"center\" primary={value} />\n                  </ListItem>\n                ))}\n              </List>\n            </div>\n          ) : (\n            <Typography\n              align=\"center\"\n              className={classes.pos}\n              color=\"textSecondary\"\n            >\n              {props.value}\n            </Typography>\n          )}\n        </CardContent>\n      </Card>\n    </Grid>\n  );\n};\n\nexport default SimpleCard;\n","import React, { useState, useEffect } from \"react\";\nimport { Grid } from \"@material-ui/core\";\n\nconst Camera = (props) => {\n  console.log(props);\n  return (\n    <img\n      src={\"http://localhost:5555/stream-video\" + \"?\" + props.cameraKey}\n      alt=\"Camera Not Started.\"\n    />\n  );\n};\n\nexport default Camera;\n","import { Button, Card, CardContent, Grid, Typography } from \"@material-ui/core\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport React from \"react\";\nimport Camera from \"./Camera\";\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  details: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  content: {\n    flex: \"1 0 auto\",\n  },\n  controls: {\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n  },\n  section1: {\n    margin: theme.spacing(3, 2),\n  },\n  section2: {\n    margin: theme.spacing(2),\n    textAlign: \"center\",\n  },\n}));\n\nconst handleCameraRequest = (\n  event,\n  setCameraView,\n  setIsCameraConnected,\n  setCameraKey\n) => {\n  console.log(event);\n\n  axios\n    .post(`${process.env.REACT_APP_API_URL}config-video`, {\n      camera_index: 0,\n      event_type: event,\n    })\n    .then((response) => {\n      console.log(response.data);\n      if (event == \"camera-on\") {\n        setCameraView(true);\n        setIsCameraConnected(true);\n        setCameraKey(Math.random().toString(36).substring(7));\n        console.log(\"caera event\");\n        console.log(event);\n      }\n      if (event == \"camera-off\") {\n        setCameraView(false);\n        setIsCameraConnected(false);\n        console.log(\"caera event\");\n        console.log(event);\n      }\n    });\n};\n\nconst WebCamera = (props) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [cameraView, setCameraView] = React.useState(false);\n  const [cameraKey, setCameraKey] = React.useState(\"\");\n\n  /*  useEffect(() => {\n    axios\n      .get(`${process.env.REACT_APP_API_URL}config-video`, {})\n      .then((response) => {\n        setCameraView(response.data.camera_on);\n        setRecording(response.data.camera_record);\n        //console.log(response.data);\n      });\n  });\n*/\n\n  return (\n    <Card>\n      <CardContent>\n        <div className={classes.section1}>\n          <Typography component=\"h3\" variant=\"h3\" color=\"secondary\">\n            Video Source\n          </Typography>\n        </div>\n        <Camera\n          cameraKey={cameraKey}\n          cameraView={props.isCameraConnected}\n        ></Camera>\n        <Divider variant=\"middle\" />\n        <div className={classes.section2}>\n          <Typography variant=\"subtitle1\" color=\"textSecondary\"></Typography>\n        </div>\n\n        <div className={classes.details}>\n          <Grid container rows spacing={2}>\n            <Grid item xs={12}>\n              {props.isCameraConnected === false ? (\n                <Button\n                  aria-label=\"Start Camera\"\n                  variant=\"contained\"\n                  color=\"secondary\"\n                  fullWidth={true}\n                  onClick={() => {\n                    handleCameraRequest(\n                      \"camera-on\",\n                      setCameraView,\n                      props.setIsCameraConnected,\n                      setCameraKey\n                    );\n                  }}\n                >\n                  Start Camera\n                </Button>\n              ) : (\n                <Button\n                  aria-label=\"Stop Camera\"\n                  color=\"secondary\"\n                  variant=\"contained\"\n                  fullWidth={true}\n                  onClick={() => {\n                    handleCameraRequest(\n                      \"camera-off\",\n                      setCameraView,\n                      props.setIsCameraConnected,\n                      setCameraKey\n                    );\n                  }}\n                >\n                  Stop Camera\n                </Button>\n              )}\n            </Grid>\n          </Grid>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default WebCamera;\n","import { CardContent, Grid, Typography } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { SimpleCard } from \"../SimpleCard\";\nimport { WebCamera } from \"../WebCamera\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  details: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  content: {\n    flex: \"1 0 auto\",\n  },\n  controls: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n\n  section1: {\n    margin: theme.spacing(3, 2),\n  },\n}));\n\nconst Status = (props) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  let [config, setConfig] = useState([]);\n  let [deviceDisabled, setDeviceDisabled] = useState(false);\n\n  useEffect(() => {\n    axios.get(`${process.env.REACT_APP_API_URL}config`).then((res) => {\n      setConfig(mapdata(res.data));\n    });\n  }, []);\n\n  const handleDisconnectRequest = (event, setConfig) => {\n    setDeviceDisabled(true);\n    axios.get(`${process.env.REACT_APP_API_URL}disconnect`).then((res) => {\n      console.log(res.data);\n      setConfig(mapdata(res.data));\n      setDeviceDisabled(false);\n    });\n  };\n\n  const handleConnectRequest = (event, setConfig) => {\n    setDeviceDisabled(true);\n    axios.get(`${process.env.REACT_APP_API_URL}connect`).then((res) => {\n      setConfig(mapdata(res.data));\n      setDeviceDisabled(false);\n    });\n  };\n\n  function mapdata(data) {\n    if (data.mode) {\n      props.setStreamingMode(data.mode);\n    }\n    props.setIsConnected(data.streaming);\n    props.setColumns(Object.keys(data.column_location).sort());\n    props.setStreamingSource(data.source);\n    props.setDeviceID(data.device_id);\n    props.setIsCameraConnected(data.camera_on);\n    data.column_location =\n      \"column_location\" in data\n        ? Object.keys(data.column_location).sort().join(\", \")\n        : [];\n\n    return data;\n  }\n  return (\n    <div class={classes.root}>\n      <Grid container rows spacing={6}>\n        <Grid item xs={6}>\n          <Card>\n            <CardContent>\n              <div className={classes.section1}>\n                <Typography component=\"h3\" variant=\"h3\" color=\"secondary\">\n                  Device Source\n                </Typography>\n              </div>\n              <Grid container columns spacing={4}>\n                <Grid item xs={12} container rows spacing={2}>\n                  <SimpleCard\n                    name=\"Mode\"\n                    xs=\"6\"\n                    value={config.mode}\n                  ></SimpleCard>\n                  <SimpleCard\n                    name=\"Source\"\n                    xs=\"6\"\n                    value={config.source}\n                  ></SimpleCard>\n                </Grid>\n                <Grid item xs={12} container rows spacing={2}>\n                  <SimpleCard\n                    name=\"Device ID\"\n                    xs={6}\n                    value={config.device_id}\n                  ></SimpleCard>\n                  {config.mode === \"data_capture\" ? (\n                    <SimpleCard\n                      xs=\"6\"\n                      name=\"Sample Rate\"\n                      value={config.sample_rate}\n                    ></SimpleCard>\n                  ) : null}\n                </Grid>\n                <Grid item xs={12}>\n                  {config.mode === \"data_capture\" ? (\n                    <SimpleCard\n                      name=\"Sensor Columns\"\n                      value={config.column_location}\n                      list={true}\n                    ></SimpleCard>\n                  ) : null}\n                </Grid>\n                <Grid item xs={12}>\n                  <div className={classes.controls}>\n                    {props.isConnected ? (\n                      <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        aria-label=\"disconnect\"\n                        fullWidth={true}\n                        disabled={deviceDisabled}\n                        onClick={() => {\n                          handleDisconnectRequest(\"clicked\", setConfig);\n                        }}\n                      >\n                        Disconnect From Device\n                      </Button>\n                    ) : (\n                      <Button\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        aria-label=\"connect\"\n                        fullWidth={true}\n                        disabled={deviceDisabled}\n                        onClick={() => {\n                          handleConnectRequest(\"clicked\", setConfig);\n                        }}\n                      >\n                        Connect To Device\n                      </Button>\n                    )}\n                  </div>\n                </Grid>\n              </Grid>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item xs={6}>\n          <WebCamera\n            setIsCameraConnected={props.setIsCameraConnected}\n            isCameraConnected={props.isCameraConnected}\n          />\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default Status;\n","import Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport React from \"react\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  backButton: {\n    marginRight: theme.spacing(1),\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  stepIcon: {\n    color: \"primary\",\n  },\n}));\n\nfunction getSteps() {\n  return [\n    \"Select Connection Type\",\n    \"Scan and Select Device ID\",\n    \"Select Mode\",\n    \"Click Configure Gateway\",\n  ];\n}\n\nconst HorizontalLabelPositionBelowStepper = (props) => {\n  const classes = useStyles();\n  const steps = getSteps();\n\n  let activeStep = null;\n\n  return (\n    <div className={classes.root}>\n      <Stepper activeStep={activeStep} alternativeLabel>\n        {steps.map((label) => (\n          <Step key={label} color=\"primary\">\n            <StepLabel\n              active={true}\n              StepIconProps={{\n                classes: { root: classes.stepIcon },\n              }}\n            >\n              {label}\n            </StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n    </div>\n  );\n};\n\nexport default HorizontalLabelPositionBelowStepper;\n","import { Grid } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport axios from \"axios\";\nimport React from \"react\";\nimport HorizontalLabelPositionBelowStepper from \"./Stepper\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  formControl: {\n    margin: theme.spacing(3),\n    minWidth: 600,\n  },\n  button: {\n    margin: theme.spacing(1, 1, 0, 0),\n  },\n}));\n\nconst Configure = (props) => {\n  const classes = useStyles();\n  const [source, setSource] = React.useState(props.streamingSource);\n  const [mode, setMode] = React.useState(\n    props.streamingMode === \"recognition\" ? \"RECOGNITION\" : \"DATA_CAPTURE\"\n  );\n  const [deviceID, setDeviceID] = React.useState(props.deviceID);\n  const [error, setError] = React.useState(false);\n  const [scanHelperText, setScanHelperText] = React.useState(\"\");\n  const [helperText, setHelperText] = React.useState(\"\");\n  const [deviceRows, setDeviceRows] = React.useState([]);\n  const [configuring, setIsConfiguring] = React.useState(false);\n  const [scanning, setIsScanning] = React.useState(false);\n  let deviceColumns = [\n    { field: \"id\", headerName: \"ID\", width: 0 },\n    { field: \"device_id\", headerName: \"Device ID\", width: 240 },\n    { field: \"name\", headerName: \"Name\", width: 240 },\n  ];\n\n  const handleRadioChange = (event) => {\n    console.log(\"handle radio\");\n    setSource(event.target.value);\n  };\n\n  const handleModeChange = (event) => {\n    console.log(\"handle mode\");\n    setMode(event.target.value);\n  };\n\n  const handleDeviceIDChange = (event) => {\n    console.log(\"handle device id\");\n    setDeviceID(event.target.value);\n    setHelperText(\" \");\n    setError(false);\n  };\n\n  const handleRowSelection = (event) => {\n    console.log(event.data.device_id);\n    setDeviceID(event.data.device_id);\n  };\n\n  const handleSubmit = (event) => {\n    setIsConfiguring(true);\n    event.preventDefault();\n    if (deviceID === \"\") {\n      setHelperText(\"Must Set DeviceID\");\n      setIsConfiguring(false);\n      return;\n    }\n    console.log(source);\n    console.log(deviceID);\n    axios\n      .post(`${process.env.REACT_APP_API_URL}config`, {\n        device_id: deviceID,\n        source: source.toLowerCase(),\n        mode: mode,\n      })\n      .then((response) => {\n        console.log(response.data);\n        console.log(props);\n        props.setStreamingMode(response.data.mode);\n        props.setIsConnected(true);\n        setHelperText(\"Gateway Connected to device, now ready to stream.\");\n        setIsConfiguring(false);\n      })\n      .catch(function (error) {\n        setIsConfiguring(false);\n        if (error.response) {\n          setHelperText(error.response.data.detail.join(\", \"));\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          // The request was made but no response was received\n          console.log(error.request);\n        } else {\n          // Something happened in setting up the request that triggered an Error\n          console.log(\"Error\", error.detail);\n        }\n      });\n  };\n\n  const handleDeviceScan = (event) => {\n    console.log(event);\n    setIsScanning(true);\n    event.preventDefault();\n    axios\n      .post(`${process.env.REACT_APP_API_URL}scan`, {\n        source: source.toLowerCase(),\n      })\n      .then((response) => {\n        console.log(response.data);\n        setIsScanning(false);\n        setDeviceRows(response.data);\n      })\n      .catch(function (error) {\n        setIsScanning(false);\n        if (error.response) {\n\n          // Request made and server responded\n          setScanHelperText(error.response.data.detail.join(\", \"));\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          // The request was made but no response was received\n          console.log(error.request);\n        } else {\n          // Something happened in setting up the request that triggered an Error\n          console.log(\"Error\", error.detail);\n        }\n      });\n  };\n\n  return (\n    <div>\n      \n      <Grid container rows spacing={4}>\n        <Grid item>\n          <Card>\n          <HorizontalLabelPositionBelowStepper />\n            <CardContent>            \n              <form onSubmit={handleSubmit}>\n                <FormControl component=\"fieldset\" disabled={configuring} error={error} className={classes.formControl}>\n                  <div>\n                    <FormLabel>Connection Type</FormLabel>\n                    <RadioGroup\n                      aria-label=\"source\"\n                      value={source}\n                      onChange={handleRadioChange}\n                      row\n                    >\n                      <FormControlLabel\n                        value=\"SERIAL\"\n                        control={<Radio />}\n                        label=\"Serial\"\n                      />\n                      <FormControlLabel\n                        value=\"BLE\"\n                        control={<Radio />}\n                        label=\"BLE\"\n                      />\n                      <FormControlLabel\n                        value=\"TCPIP\"\n                        control={<Radio />}\n                        label=\"TCP/IP\"\n                      />\n                      <FormControlLabel\n                        value=\"TEST\"\n                        control={<Radio />}\n                        label=\"Test\"\n                      />\n                    </RadioGroup>\n                  </div>\n                  <div>\n                    <FormLabel component=\"legend\">\n                      Device Mode:\n                            </FormLabel>\n                    <RadioGroup\n                      aria-label=\"mode\"\n                      name=\"Streaming Source\"\n                      value={mode}\n                      onChange={handleModeChange}\n                      row\n                    >\n                      <FormControlLabel\n                        value=\"DATA_CAPTURE\"\n                        control={<Radio />}\n                        label=\"Data Capture\"\n                      />\n                      <FormControlLabel\n                        value=\"RECOGNITION\"\n                        control={<Radio />}\n                        label=\"Recognition\"\n                      />\n                    </RadioGroup>\n                  </div>\n                  <div>\n                    <FormLabel component=\"legend\">Device ID:</FormLabel>\n                    <TextField\n                      id=\"outlined-basic\"\n                      variant=\"outlined\"\n                      value={deviceID}\n                      onChange={handleDeviceIDChange}\n                      fullWidth={true}\n                    />\n                  </div>\n                  <div>\n                    <Button\n                      type=\"submit\"\n                      variant=\"contained\"\n                      color=\"primary\"\n                      disabled={configuring}\n                      fullWidth={true}\n                      className={classes.button}\n                    >\n                      Configure Gateway\n                    </Button>\n                  </div>\n                </FormControl>\n              </form>\n            </CardContent>\n          </Card>\n        </Grid>\n        <Grid item>\n          <Card>\n            <CardContent>\n              <form onSubmit={handleDeviceScan}>\n                <FormControl\n                  component=\"fieldset\"\n                  error={error}\n                  className={classes.formControl}\n                >\n                  <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    fullWidth={true}\n                    disabled={scanning}\n                  >\n                    Scan For {source} Devices\n                        </Button>\n                  <div style={{ height: 600, width: 600 }}>\n                    <DataGrid\n                      rows={deviceRows}\n                      columns={deviceColumns}\n                      onRowSelected={handleRowSelection}\n                      pageSize={10}\n                    />\n                  </div>\n                  <FormHelperText>{scanHelperText}</FormHelperText>\n                </FormControl>\n              </form>\n            </CardContent>\n          </Card>\n        </Grid>\n      </Grid>\n\n    </div>\n  );\n};\n\nexport default Configure;\n","// root\nexport const SET_GLOBAL_LOADER = \"SET_GLOBAL_LOADER\";\n\n// errors\nexport const FETCH_DATA_ERROR_MSG = \"FETCH_DATA_ERROR_MSG\";\nexport const SET_DATA_ERROR_MSG = \"SET_DATA_ERROR_MSG\";\n\n// stream\nexport const START_STREAM_SENSOR_SAGA = \"START_STREAM_SENSOR_SAGA\";\nexport const STOP_STREAM_SENSOR_SAGA = \"STOP_STREAM_SENSOR_SAGA\";\nexport const SWITCH_STREAM_SENSOR_RECORD_SAGA =\n  \"SWITCH_STREAM_SENSOR_RECORD_SAGA\";\nexport const SET_IS_STREAMING_SENSOR = \"SET_IS_STREAMING_SENSOR\";\nexport const SET_IS_STREAMING_SENSOR_RECORDING =\n  \"SET_IS_STREAMING_SENSOR_RECORDING\";\nexport const SET_STREAM_SENSOR_DATA_RESET = \"SET_STREAM_SENSOR_DATA_RESET\";\n\n// sensor data\nexport const SET_CHUNK_SENSOR_DATA_SAGA = \"SET_CHUNK_SENSOR_DATA_SAGA\";\nexport const SET_STREAM_SENSOR_DATA = \"SET_STREAM_SENSOR_DATA\";\nexport const SET_STREAM_SENSOR_RECORD_DATA = \"SET_STREAM_SENSOR_RECORD_DATA\";\n","import DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\nimport { Box } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { CSVLink } from \"react-csv\";\n\nconst useStyles = makeStyles((theme) => ({\n  linkWrapper: {\n    display: \"flex\",\n    padding: theme.spacing(2),\n    marginTop: theme.spacing(2),\n  },\n  link: {\n    textDecoration: \"none\",\n    display: \"flex\",\n    alignItems: \"center\",\n    color: \"#0277bd\",\n  },\n\n  icon: {\n    marginLeft: theme.spacing(2),\n    cursor: \"pointer\",\n  },\n}));\n\nconst LinkExportToCSV = (props) => {\n  const { data, deleteFile, title } = props;\n  const classes = useStyles();\n  const csvReport = {\n    data,\n    filename: `data.csv`,\n  };\n  return (\n    <Box className={classes.linkWrapper}>\n      <CSVLink className={classes.link} {...csvReport}>\n        {title}\n      </CSVLink>\n      <DeleteForeverIcon\n        onClick={deleteFile}\n        color=\"primary\"\n        className={classes.icon}\n      />\n    </Box>\n  );\n};\n\nexport default LinkExportToCSV;\n","import React, { useEffect, useState } from \"react\";\nimport Plot from \"react-plotly.js\";\n\nconst SensorDataChart = (props) => {\n  const { sensorData, countSamples, title } = props;\n  const [revision, setRevision] = useState(0);\n  const [opacity, setOpacity] = useState(\"1\");\n\n  useEffect(() => {\n    setRevision(revision + 1);\n    if (sensorData && sensorData.length) {\n      if (sensorData[0].x && sensorData[0].x.length) {\n      }\n    }\n  }, [sensorData]);\n\n  return (\n    <Plot\n      data={sensorData}\n      revision={revision}\n      style={{ width: \"100%\", height: \"100%\", opacity }}\n      layout={{\n        title,\n        visible: false,\n        autosize: true,\n        margin: {\n          l: 50,\n          r: 50,\n          b: 100,\n          t: 100,\n          pad: 4,\n        },\n        xaxis: {\n          autorange: true,\n        },\n        yaxis: {\n          autorange: true,\n        },\n      }}\n    />\n  );\n};\n\nexport default SensorDataChart;\n","import {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Grid,\n  Switch,\n  Typography,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport React, { useCallback, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  SET_IS_STREAMING_SENSOR_RECORDING,\n  SET_STREAM_SENSOR_DATA_RESET,\n  SET_STREAM_SENSOR_RECORD_DATA,\n  START_STREAM_SENSOR_SAGA,\n  STOP_STREAM_SENSOR_SAGA,\n} from \"../../redux/actions/actionTypes\";\nimport {\n  sensorDataForChart,\n  sensorRecordedDataToCsv,\n} from \"../../redux/selectors/sensorData\";\nimport LinkExportToCSV from \"../BaseData/LinkExportToCSV\";\nimport SensorDataChart from \"./SensorDataChart\";\n\nconst useStyles = makeStyles((theme) => ({\n  cardWrapper: {\n    padding: theme.spacing(2),\n  },\n  dataWrapper: {\n    padding: theme.spacing(2),\n  },\n  chartWrapper: {\n    width: \"100%\",\n    margin: theme.spacing(1),\n  },\n  buttonWrapper: {\n    display: \"flex\",\n    marginTop: theme.spacing(2),\n  },\n  button: {\n    marginLeft: theme.spacing(2),\n  },\n  zeroOpacity: {\n    opacity: \"0\",\n  },\n}));\n\nconst SensorStream = (props) => {\n  const COUNT_SAMPLES = 16000;\n  const { columns } = props;\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [isSplitCharts, SetIsSplitCharts] = useState(false);\n  const { isStreamingSensor, isStreamingSensorRecording } = useSelector(\n    (state) => state.stream\n  );\n  const sensorData = useSelector(sensorDataForChart(columns));\n  const [exportCsvRecordedData, countRecordedData] = useSelector(\n    sensorRecordedDataToCsv(columns)\n  );\n\n  const startSensorStreaming = useCallback(\n    // max array is COUNT_SAMPLES * count of data types\n    () =>\n      dispatch({\n        type: START_STREAM_SENSOR_SAGA,\n        payload: {\n          countSamples: COUNT_SAMPLES * ((columns && columns?.length) || 1),\n        },\n      }),\n    [dispatch]\n  );\n\n  const stopSensorStreaming = useCallback(\n    () => dispatch({ type: STOP_STREAM_SENSOR_SAGA }),\n    [dispatch]\n  );\n\n  const setRecording = useCallback(\n    (isRecording) =>\n      dispatch({\n        type: SET_IS_STREAMING_SENSOR_RECORDING,\n        payload: isRecording,\n      }),\n    [dispatch]\n  );\n\n  const setClearRecording = useCallback(\n    (isRecording) =>\n      dispatch({ type: SET_STREAM_SENSOR_RECORD_DATA, payload: [] }),\n    [dispatch]\n  );\n\n  const setClearStream = useCallback(\n    () => dispatch({ type: SET_STREAM_SENSOR_DATA_RESET, payload: [] }),\n    [dispatch]\n  );\n\n  const switchSplitChart = () => {\n    SetIsSplitCharts(!isSplitCharts);\n  };\n\n  const manageStream = () => {\n    console.log(\"streaming\", isStreamingSensor);\n    if (isStreamingSensor) {\n      setRecording(false);\n      stopSensorStreaming();\n    } else {\n      setClearStream();\n      startSensorStreaming();\n    }\n  };\n\n  const switchRecording = () => {\n    if (!isStreamingSensorRecording) {\n      {\n        setClearRecording();\n      }\n    }\n    setRecording(!isStreamingSensorRecording);\n  };\n\n  const deleteRecording = () => {\n    setClearRecording();\n  };\n\n  return (\n    <Card>\n      <CardContent>\n        <Typography component=\"h3\" variant=\"h3\" color=\"secondary\">\n          Test Mode: Data Capture\n        </Typography>\n        <Box className={classes.dataWrapper}>\n          <Box className={classes.chartWrapper}>\n            <Box className={!isStreamingSensor && classes.zeroOpacity}>\n              <Switch\n                checked={isSplitCharts}\n                onChange={() => switchSplitChart()}\n                inputProps={{ \"aria-label\": \"secondary checkbox\" }}\n              />{\" \"}\n              Split charts\n            </Box>\n            {sensorData && sensorData.length && isSplitCharts ? (\n              sensorData.map((data) => (\n                <SensorDataChart\n                  title={data.name}\n                  countSamples={COUNT_SAMPLES}\n                  sensorData={[data]}\n                  isStreamingSensor={isStreamingSensor}\n                />\n              ))\n            ) : (\n              <SensorDataChart\n                countSamples={COUNT_SAMPLES}\n                sensorData={sensorData}\n                isStreamingSensor={isStreamingSensor}\n              />\n            )}\n          </Box>\n          <Box className={classes.buttonWrapper}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.button}\n              onClick={() => manageStream()}\n            >\n              {isStreamingSensor ? \"Stop\" : \"View\"}\n            </Button>\n            <Button\n              variant=\"outlined\"\n              disabled={!isStreamingSensor}\n              className={classes.button}\n              onClick={() => switchRecording()}\n            >\n              {isStreamingSensorRecording ? \"Stop Recording\" : \"Record\"}\n            </Button>\n          </Box>\n          <Box>\n            {countRecordedData ? (\n              <LinkExportToCSV\n                data={exportCsvRecordedData}\n                title={`Export Recorded items ${countRecordedData} to CSV`}\n                deleteFile={deleteRecording}\n              />\n            ) : null}\n          </Box>\n        </Box>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default SensorStream;\n","export const sensorDataForChart = column => (state) => {\n  const { sensorSimpleData } = state.sensorData;\n  // generate chart zero array\n  const result = column.map(name => {\n    return {\n      x: [],\n      y: [],\n      type: 'scatter',\n      mode: 'lines',\n      name,\n    };\n  });\n  // fill result array\n  sensorSimpleData.forEach((el, i) => {\n    result[i % column.length].x.push(Math.floor(i / column.length));\n    result[i % column.length].y.push(el);\n  });\n  return result;\n};\n\nexport const sensorRecordedDataToCsv = column => (state) => {\n  const { sensorRecordedData } = state.sensorData;\n  // generate chart zero array\n  let result = column.map(name => {\n    return [name];\n  });\n  result.unshift(['column']);\n  // fill result array\n  sensorRecordedData.forEach((el, i) => {\n    result[i % column.length + 1].push(el);\n  });\n  return [result, sensorRecordedData.length];\n};","import { Typography } from \"@material-ui/core\";\nimport React from \"react\";\n\nconst ResultsFilter = (props) => {\n  function filterData(data, filter_length) {\n    if (data.length === 0) {\n      return \"No Results\";\n    }\n\n    if (filter_length > data.length) {\n      filter_length = data.length - 1;\n    }\n\n    let m = {};\n    for (var i = data.length - filter_length; i < data.length; i++) {\n      if (data[i].Classification in m) {\n        m[data[i].Classification] += 1;\n      } else {\n        m[data[i].Classification] = 1;\n      }\n    }\n\n    let index = 0;\n    let max = 0;\n    for (const [key, value] of Object.entries(m)) {\n      if (value > max) {\n        max = value;\n        index = key;\n      }\n    }\n\n    if (max < filter_length / 2) {\n      return \"UNC\";\n    }\n    return index;\n  }\n\n  return (\n    <Typography align=\"center\" variant=\"h1\" component=\"h2\">\n      {filterData(props.data, props.filter_length)}\n    </Typography>\n  );\n};\n\nexport default ResultsFilter;\n","import { Button, Grid, Typography } from \"@material-ui/core\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Slider from \"@material-ui/core/Slider\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport React from \"react\";\nimport ResultsFilter from \"./ResultsFilter\";\n\nvar id_counter = 0;\n\nconst useStyles = makeStyles((theme) => ({\n  controls: {\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n  },\n  root: {\n    width: \"800px\",\n  },\n  sliderroot: {\n    width: \"100%\",\n  },\n  sliderinput: {\n    width: 42,\n  },\n  section1: {\n    margin: theme.spacing(3, 2),\n  },\n  section2: {\n    margin: theme.spacing(2),\n    textAlign: \"center\",\n  },\n}));\n\nfunction bin2String(array) {\n  var results = String.fromCharCode.apply(null, array).split(\"\\n\");\n  results.pop();\n\n  return results.map((x) => {\n    return JSON.parse(x);\n  });\n}\n\nconst handleStreamRequest = (\n  event,\n  url,\n  setStreamCallback,\n  setIsStreaming,\n  setReader\n) => {\n  id_counter = 0;\n  setStreamCallback([]);\n  setIsStreaming(true);\n  fetch(url, {\n    method: \"GET\",\n  }).then((response) => {\n    const reader = response.body.getReader();\n    setReader(reader);\n    const stream = new ReadableStream({\n      start(controller) {\n        // The following function handles each data chunk\n        function push() {\n          // \"done\" is a Boolean and value a \"Uint8Array\"\n          reader.read().then(({ done, value }) => {\n            // Is there no more data to read?\n            if (done) {\n              // Tell the browser that we have finished sending data\n              setIsStreaming(false);\n              controller.close();\n              return;\n            }\n            var results = bin2String(value);\n            for (var i = 0; i < results.length; i++) {\n              console.log(results[i]);\n              results[i].id = id_counter;\n              id_counter += 1;\n              setStreamCallback((x) => [...x, results[i]]);\n            }\n\n            push();\n          });\n        }\n\n        push();\n      },\n    });\n\n    return new Response(stream, { headers: { \"Content-Type\": \"text/html\" } });\n  });\n};\n\nfunction handleStopStreaming(event, reader, setIsStreaming) {\n  //debugger;\n  console.log(reader);\n  reader.cancel();\n  setIsStreaming(false);\n}\n\nconst Results = (props) => {\n  const [deviceRows, setDeviceRows] = React.useState([]);\n  const [isStreaming, setIsStreaming] = React.useState(false);\n  const [reader, setReader] = React.useState();\n  let deviceColumns = [\n    { field: \"id\", headerName: \"ID\", width: 70 },\n    { field: \"source\", headerName: \"Device ID\", width: 240 },\n    { field: \"ModelNumber\", headerName: \"Model ID\", width: 240 },\n    { field: \"Classification\", headerName: \"Classification\", width: 240 },\n  ];\n  const [filterLength, setfilterLength] = React.useState(1);\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const handleFilterLengthSliderChange = (event, newValue) => {\n    console.log(newValue);\n    setfilterLength(newValue);\n  };\n\n  return (\n    <Card>\n      <CardContent>\n        <div className={classes.section1}>\n          <Grid item xs={12}>\n            <Typography\n              align=\"center\"\n              component=\"h2\"\n              variant=\"h2\"\n              color=\"secondary\"\n            >\n              Test Mode: Recognition\n            </Typography>\n          </Grid>\n\n          <div className={classes.section1}>\n            <Divider variant=\"middle\" />\n          </div>\n\n          <Grid item xs={12}>\n            {isStreaming ? (\n              <div className={classes.controls}>\n                <Button\n                  aria-label=\"disconnect\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  fullWidth={true}\n                  onClick={() => {\n                    handleStopStreaming(\n                      \"stopstreaming\",\n                      reader,\n                      setIsStreaming\n                    );\n                  }}\n                >\n                  Stop Stream\n                </Button>\n              </div>\n            ) : (\n              <div className={classes.controls}>\n                <Button\n                  aria-label=\"disconnect\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  fullWidth={true}\n                  onClick={() => {\n                    handleStreamRequest(\n                      \"clicked\",\n                      `${process.env.REACT_APP_API_URL}results`,\n                      setDeviceRows,\n                      setIsStreaming,\n                      setReader\n                    );\n                  }}\n                >\n                  Start Stream\n                </Button>\n              </div>\n            )}\n          </Grid>\n        </div>\n\n        <Grid item alignContent=\"center\" xs={12}>\n          <ResultsFilter\n            data={deviceRows}\n            filter_length={filterLength}\n          ></ResultsFilter>\n        </Grid>\n\n        <div className={classes.section1}>\n          <Divider variant=\"middle\" />\n        </div>\n\n        <Typography align=\"left\" color=\"primary\" component=\"h5\" variant=\"h5\">\n          Post Processing\n        </Typography>\n\n        <div className={classes.section1}>\n          <Divider variant=\"middle\" />\n        </div>\n\n        <Grid container spacing={4} rows alignItems=\"center\">\n          <Grid item xs={4}>\n            <Typography align=\"center\" component=\"h6\" variant=\"h6\">\n              Buffer\n            </Typography>\n          </Grid>\n\n          <Grid item xs={6}>\n            <div className={classes.sliderroot}>\n              <Slider\n                value={typeof filterLength === \"number\" ? filterLength : 1}\n                onChange={handleFilterLengthSliderChange}\n                aria-labelledby=\"input-slider\"\n                min={1}\n                max={10}\n              />\n            </div>\n          </Grid>\n\n          <Grid item xs={1}>\n            <Typography align=\"center\" component=\"h6\" variant=\"h6\">\n              {filterLength}\n            </Typography>\n          </Grid>\n        </Grid>\n        <div className={classes.section1}>\n          <div style={{ height: 600, width: \"100%\" }}>\n            <DataGrid\n              rows={deviceRows}\n              columns={deviceColumns}\n              pageSize={15}\n              sortModel={[{ field: \"id\", sort: \"desc\" }]}\n            />\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default Results;\n","import {\n  Button,\n  Card,\n  CardContent,\n  Grid,\n  Typography,\n  Tooltip,\n} from \"@material-ui/core\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport axios from \"axios\";\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  details: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  content: {\n    flex: \"1 0 auto\",\n  },\n  controls: {\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n  },\n  section1: {\n    margin: theme.spacing(3, 2),\n  },\n  section2: {\n    margin: theme.spacing(2),\n    textAlign: \"center\",\n  },\n}));\n\nconst Record = (props) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [recording, setRecording] = React.useState(props.isRecording);\n  const [filename, setFilename] = React.useState(\"capture_name\");\n  const [recordDistabled, setRecordDistabled] = React.useState(false);\n  console.log(\"Connected Camera\");\n  console.log(props.isCameraConnected);\n\n\n  const handleRecordRequest = (event, url, setRecording, filename) => {\n    setRecordDistabled(true);\n    console.log(event);\n  \n    if (filename === \"\") {\n      filename = \"test\";\n    }\n    console.log(filename);\n    axios\n      .post(`${process.env.REACT_APP_API_URL}` + url, {\n        filename: filename,\n        event_type: event,\n      })\n      .then((response) => {\n        console.log(response.data);\n        if (event == \"record-start\") {\n          setRecording(true);\n          console.log(event);\n        }\n        if (event == \"record-stop\") {\n          setRecording(false);\n          console.log(event);\n        }\n        setRecordDistabled(false);\n      });\n  };\n  \n  const handleDownloadRequest = (event, filename) => {\n    console.log(`${process.env.REACT_APP_API_URL}download/` + filename);\n    fetch(`${process.env.REACT_APP_API_URL}download/` + filename, {\n      method: \"GET\",\n      headers: { \"Content-Type\": \"application/zip\" },\n    })\n      .then((response) => response.blob())\n      .then((blob) => {\n        // Create blob link to download\n        const url = window.URL.createObjectURL(new Blob([blob]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", filename + \".zip\");\n  \n        // Append to html link element page\n        document.body.appendChild(link);\n  \n        // Start download\n        link.click();\n  \n        // Clean up and remove the link\n        link.parentNode.removeChild(link);\n      });\n  };\n  const handleFileNameChange = (event) => {\n    setFilename(event.target.value);\n  };\n\n  return (\n    <Card>\n      <CardContent>\n        <div className={classes.section1}>\n          <Typography component=\"h4\" variant=\"h4\" color=\"secondary\">\n            Record to Gateway\n          </Typography>\n        </div>\n        <Divider variant=\"middle\" />\n        <div className={classes.section2}>\n          <Typography variant=\"subtitle1\" color=\"textSecondary\"></Typography>\n        </div>\n        <Card>\n          <CardContent>\n            <Grid container columns spacing={6}>\n              <Grid item xs={12}>\n                <TextField\n                  id=\"outlined-basic\"\n                  variant=\"outlined\"\n                  value={filename}\n                  onChange={handleFileNameChange}\n                  fullWidth={true}\n                  disabled={recording}\n                />\n              </Grid>\n              <Grid item xs={6}>\n                {recording === false ? (\n                  <Tooltip\n                    title=\"This will record the device sensor data in .csv format to the gateway.\n                  If video source is connected, the video source will also be recorded.\n                  \"\n                    aria-label=\"record\"\n                  >\n                    <Button\n                      aria-label=\"Record\"\n                      variant=\"contained\"\n                      fullWidth={true}\n                      disabled={recordDistabled}\n                      onClick={() => {\n                        handleRecordRequest(\n                          \"record-start\",\n                          props.isCameraConnected ? \"record\" : \"record-device\",\n                          setRecording,\n                          filename\n                        );\n                      }}\n                    >\n                      Record\n                    </Button>\n                  </Tooltip>\n                ) : (\n                  <Button\n                    aria-label=\"Stop \"\n                    variant=\"contained\"\n                    fullWidth={true}\n                    disabled={recordDistabled}\n                    onClick={() => {\n                      handleRecordRequest(\n                        \"record-stop\",\n                        props.isCameraConnected ? \"record\" : \"record-device\",\n                        setRecording\n                      );\n                    }}\n                  >\n                    Stop Recording\n                  </Button>\n                )}\n              </Grid>\n\n              <Grid item xs={6}>\n                <Tooltip\n                  title=\"Download the recorded .csv and .mp4 for this capture from the gateway. A .dcli file will also be generated describing the data.\n                  \"\n                  aria-label=\"record\"\n                >\n                  <Button\n                    aria-label=\"Download \"\n                    variant=\"contained\"\n                    fullWidth={true}\n                    onClick={() => {\n                      handleDownloadRequest(\"download\", filename);\n                    }}\n                  >\n                    Download\n                  </Button>\n                </Tooltip>\n              </Grid>\n            </Grid>\n          </CardContent>\n        </Card>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default Record;\n","import { CardContent, Grid, Typography } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport React, { useEffect, useState } from \"react\";\nimport { SensorStream } from \"../SensorStream\";\nimport { Results } from \"../Results\";\nimport { Record } from \"../Record\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  details: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  content: {\n    flex: \"1 0 auto\",\n  },\n  controls: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n\n  section1: {\n    margin: theme.spacing(3, 2),\n  },\n}));\n\nconst TestMode = (props) => {\n  return (\n    <Grid container rows spacing={6}>\n      {props.streamingMode != \"recognition\" ? (\n        <Grid item xs={8}>\n          <SensorStream columns={props.columns} />\n        </Grid>\n      ) : (\n        <Grid item xs={8}>\n          <Results />\n        </Grid>\n      )}\n      <Grid item xs={4}>\n        <Record\n          isCameraConnected={props.isCameraConnected}\n          isRecording={props.isRecording}\n        />\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default TestMode;\n","import React, { useCallback, useEffect } from \"react\";\n\nimport { Header, NavBar } from \"../Layout\";\nimport useStyles from \"./MainStyles\";\nimport { Grid } from \"@material-ui/core\";\nimport { Status } from \"../Status\";\nimport { Configure } from \"../Configure\";\nimport { TestMode } from \"../TestMode\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { useSnackbar } from \"notistack\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { STOP_STREAM_SENSOR_SAGA } from \"../../redux/actions/actionTypes\";\nimport axios from \"axios\";\n\nconst Main = () => {\n  const dispatch = useDispatch();\n  const [activeView, setActiveView] = React.useState(0);\n  const [streamingMode, setStreamingMode] = React.useState(0);\n  const [streamingSource, setStreamingSource] = React.useState(0);\n  const [columns, setColumns] = React.useState([]);\n  const [deviceID, setDeviceID] = React.useState([]);\n  const [isConnected, setIsConnected] = React.useState(false);\n  const [isCameraConnected, setIsCameraConnected] = React.useState(false);\n  const [isRecording, setIsRecording] = React.useState(false);\n\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const { isStreamingSensor } = useSelector((state) => state.stream);\n  const { errorDataMsg } = useSelector((state) => state.errors);\n\n  function handleChange(newValue) {\n    if (activeView !== newValue) {\n      setActiveView(newValue);\n    }\n  }\n\n  useEffect(() => {\n    axios.get(`${process.env.REACT_APP_API_URL}config`, {}).then((response) => {\n      setIsCameraConnected(response.data.camera_on);\n      setIsConnected(response.data.streaming);\n      setIsRecording(response.data.recording);\n\n      //console.log(response.data);\n    });\n  });\n\n  const alertUser = (e) => {\n    if (isStreamingSensor) {\n      e.preventDefault();\n      e.returnValue = \"\";\n    }\n  };\n\n  const stopSensorStreaming = useCallback(\n    () => dispatch({ type: STOP_STREAM_SENSOR_SAGA }),\n    [dispatch]\n  );\n\n  // before leave handler\n  useEffect(() => {\n    if (isStreamingSensor) {\n      window.addEventListener(\"beforeunload\", alertUser);\n      window.addEventListener(\"unload\", stopSensorStreaming);\n      return () => {\n        window.removeEventListener(\"beforeunload\", alertUser);\n        window.removeEventListener(\"unload\", stopSensorStreaming);\n        stopSensorStreaming();\n      };\n    }\n  }, [isStreamingSensor]);\n\n  useEffect(() => {\n    if (errorDataMsg) {\n      enqueueSnackbar(errorDataMsg, { variant: \"warning\" });\n    }\n  }, [errorDataMsg]);\n\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\n        <Header />\n        <NavBar\n          onChange={handleChange}\n          isConnected={isConnected}\n          isCameraConnected={isCameraConnected}\n        />\n        <main className={classes.content}>\n          {activeView === 0 ? (\n            <Status\n              setStreamingMode={setStreamingMode}\n              setColumns={setColumns}\n              setStreamingSource={setStreamingSource}\n              setDeviceID={setDeviceID}\n              setIsConnected={setIsConnected}\n              isConnected={isConnected}\n              setIsCameraConnected={setIsCameraConnected}\n              isCameraConnected={isCameraConnected}\n            />\n          ) : null}\n          {activeView === 1 ? (\n            <TestMode\n              columns={columns}\n              streamingMode={streamingMode}\n              isRecording={isRecording}\n              isCameraConnected={isCameraConnected}\n            />\n          ) : null}\n          {activeView === 2 ? (\n            <Configure\n              setStreamingMode={setStreamingMode}\n              streamingSource={streamingSource}\n              streamingMode={streamingMode}\n              deviceID={deviceID}\n              setIsConnected={setIsConnected}\n            />\n          ) : null}\n        </main>\n      </Grid>\n    </div>\n  );\n};\n\nexport default Main;\n","import { call, delay, put, takeEvery } from \"redux-saga/effects\";\n\nimport {\n  FETCH_DATA_ERROR_MSG,\n  SET_DATA_ERROR_MSG,\n} from \"../../actions/actionTypes\";\n\nfunction* handleErrorMsg(action) {\n  yield put({ type: SET_DATA_ERROR_MSG, payload: action.payload });\n  yield delay(1000);\n  yield put({ type: SET_DATA_ERROR_MSG, payload: null });\n}\n\nexport default function* watchErrorSaga() {\n  yield takeEvery(FETCH_DATA_ERROR_MSG, handleErrorMsg);\n}\n","export class BaseStreamHttpError extends Error {\n  constructor(errorCode, response) {\n    super();\n    if (errorCode !== 500) {\n      this.detail = response.detail;\n    } else {\n      this.detail = 'Server Error. Please, contact support.';\n    }\n    this.name = this.constructor.name;\n    this.errorCode = errorCode;\n  }\n}","import { BaseStreamHttpError } from \"./errors\";\n\nimport store from \"../../redux/store\";\n\nclass StreamReader {\n  /* *\n   * StreamReader class based on browser fetch method for handling stream data to\n   * @constructs\n   * @param {string} fetchUrl - endpoint fetch url\n   * */\n  constructor(fetchUrl) {\n    /* @param {string} fetchUrl - endpoint fetch url */\n    this.reader = undefined;\n    this.fetchUrl = fetchUrl;\n  }\n\n  async startStreaming() {\n    /*\n      fetch streaming endpoint and setup this.reader\n    */\n    let response;\n    console.log(\"getting response\");\n    try {\n      response = await fetch(this.fetchUrl);\n    } catch (error) {\n      console.log(error);\n      throw new BaseStreamHttpError(404, {\n        detail: \"Failed to fetch API service\",\n      });\n    }\n    if (!response.ok) {\n      throw new BaseStreamHttpError(response.status, {\n        detail: response.statusText,\n      });\n    }\n    console.log(\"getting reader\");\n    this.reader = response.body.getReader();\n  }\n\n  async stopStreaming() {\n    if (this.reader) {\n      this.reader.cancel();\n      this.reader = undefined;\n    }\n  }\n\n  async readStreamToRedux(actionType, countSamples = 0) {\n    /*\n      read and write array by chunk to redux\n      @param {string} actionType - redux action const name\n      @param {number} maxLength - max length of redux streamed array\n    * */\n    while (true) {\n      const { value, done } = await this.reader.read();\n      if (done) break;\n      store.dispatch({\n        type: actionType,\n        payload: { chunk: new Int16Array(value.buffer), countSamples },\n      });\n    }\n  }\n}\n\nexport { BaseStreamHttpError };\nexport default StreamReader;\n","export const APP_API_ULD =  process.env.REACT_APP_API_URL || '/';\n\nexport const apiHosts = {\n  baseHost: APP_API_ULD,\n};\n","import StreamReader from \"../../services/StreamReader\";\nimport { apiHosts } from \"../../configs\";\n\nexport let streamSensorReader = undefined;\n\nexport const initStreamSensorReader = () => {\n  streamSensorReader = new StreamReader(`${ apiHosts.baseHost }/stream`);\n};","import { call, put, takeLatest } from \"redux-saga/effects\";\n\nimport { streamSensorReader } from \"../../repositories/StreamSensorReader\";\nimport { BaseStreamHttpError } from \"../../../services/StreamReader\";\nimport {\n  FETCH_DATA_ERROR_MSG,\n  SET_CHUNK_SENSOR_DATA_SAGA,\n  SET_IS_STREAMING_SENSOR,\n  START_STREAM_SENSOR_SAGA,\n} from \"../../actions/actionTypes\";\n\nfunction* workerStreamStart(action) {\n  try {\n    const { countSamples } = action?.payload;\n    yield call([streamSensorReader, \"startStreaming\"]);\n    yield put({ type: SET_IS_STREAMING_SENSOR, payload: true });\n    yield call(\n      [streamSensorReader, \"readStreamToRedux\"],\n      SET_CHUNK_SENSOR_DATA_SAGA,\n      countSamples\n    );\n  } catch (e) {\n    console.debug(e);\n    if (e instanceof BaseStreamHttpError) {\n      yield put({ type: FETCH_DATA_ERROR_MSG, payload: e.detail });\n    } else {\n      yield put({\n        type: FETCH_DATA_ERROR_MSG,\n        payload: \"Failed to read stream data\",\n      });\n    }\n  }\n}\n\nexport default function* watchStreamSensorStart() {\n  yield takeLatest(START_STREAM_SENSOR_SAGA, workerStreamStart);\n}\n","import { call, put, takeLatest } from \"redux-saga/effects\";\nimport { streamSensorReader } from \"../../repositories/StreamSensorReader\";\nimport { SET_IS_STREAMING_SENSOR, STOP_STREAM_SENSOR_SAGA, } from \"../../actions/actionTypes\";\n\n\nfunction* workerStreamStop(action) {\n  try {\n    yield call([streamSensorReader, 'stopStreaming']);\n    yield put({ type: SET_IS_STREAMING_SENSOR, payload: false });\n  } catch (e) {\n    console.debug(e);\n  }\n}\n\nexport default function* watchStreamSensorStop() {\n  yield takeLatest(STOP_STREAM_SENSOR_SAGA, workerStreamStop);\n}\n","import { all, fork } from \"redux-saga/effects\";\n\nimport watchStreamSensorStart from \"./watchStreamSensorStart\";\nimport watchStreamSensorStop from \"./watchStreamSensorStop\";\n\nexport default function* streamSagas() {\n  yield all([\n    fork(watchStreamSensorStart),\n    fork(watchStreamSensorStop),\n  ]);\n}\n\n","import { put, select, takeLatest } from \"redux-saga/effects\";\nimport {\n  SET_CHUNK_SENSOR_DATA_SAGA,\n  SET_STREAM_SENSOR_DATA,\n  SET_STREAM_SENSOR_RECORD_DATA,\n} from \"../../actions/actionTypes\";\n\nfunction* workerSetStreamChunkSensorData(action) {\n  try {\n    const { chunk, countSamples } = action.payload;\n    const chunkLength = (chunk && chunk.length) || 0;\n    let updatedSensorSimpleData = [];\n\n    const { sensorSimpleData, sensorRecordedData } = yield select(\n      (state) => state.sensorData\n    );\n    const { isStreamingSensorRecording } = yield select(\n      (state) => state.stream\n    );\n    console.log(\"called\", chunkLength / (2 * 6));\n\n    // when chunk greater than max of count samples set all chunk data or if countSamples == 0\n    if (chunkLength >= countSamples) {\n      updatedSensorSimpleData = [...chunk];\n    } else if (sensorSimpleData.length >= countSamples) {\n      // when reach countSamples limit\n      updatedSensorSimpleData = [...sensorSimpleData];\n      let [left, right, chunkI] = [0, sensorSimpleData.length, 0];\n      while (left < right) {\n        if (right - left > chunkLength) {\n          updatedSensorSimpleData[left] = sensorSimpleData[left + chunkLength];\n        } else {\n          updatedSensorSimpleData[left] = chunk[chunkI];\n          chunkI++;\n        }\n        left++;\n      }\n    } else {\n      updatedSensorSimpleData = [...sensorSimpleData, ...chunk];\n    }\n\n    yield put({\n      type: SET_STREAM_SENSOR_DATA,\n      payload: updatedSensorSimpleData,\n    });\n    // update whole list if recording\n    if (isStreamingSensorRecording) {\n      yield put({\n        type: SET_STREAM_SENSOR_RECORD_DATA,\n        payload: [...sensorRecordedData, ...chunk],\n      });\n    }\n  } catch (e) {\n    console.debug(e);\n  }\n}\n\nexport default function* watchSetChunkSensorData() {\n  yield takeLatest(SET_CHUNK_SENSOR_DATA_SAGA, workerSetStreamChunkSensorData);\n}\n","import { all, fork } from \"redux-saga/effects\";\n\nimport watchSetChunkSensorData from \"./watchSetChunkSensorData\";\n\nexport default function* sensorDataSagas() {\n  yield all([\n    fork(watchSetChunkSensorData),\n  ]);\n}\n","import { all, fork } from \"redux-saga/effects\";\n\nimport watchErrorSaga from \"./errors\";\nimport streamSagas from \"./stream\";\nimport sensorDataSagas from \"./sensorData\";\n\n\nexport default function* rootSaga() {\n  yield all([\n    fork(streamSagas),\n    fork(watchErrorSaga),\n    fork(sensorDataSagas),\n  ]);\n}\n","import {\n  SET_GLOBAL_LOADER,\n} from '../../actions/actionTypes';\n\nconst initialState = {\n  globalLoader: false,\n};\n\n\nexport default function rootData(state = initialState, action) {\n  switch (action.type) {\n    case SET_GLOBAL_LOADER:\n      return {\n        ...state,\n        globalLoader: action.payload || false,\n      };\n    default:\n      return state;\n  }\n}","import { SET_DATA_ERROR_MSG } from \"../../actions/actionTypes\";\n\nconst initialState = {\n  errorDataMsg: null,\n};\n\nexport default function rootData(state = initialState, action) {\n  switch (action.type) {\n    case SET_DATA_ERROR_MSG:\n      return {\n        ...state,\n        errorDataMsg: action.payload,\n      };\n    default:\n      return state;\n  }\n}","import { SET_IS_STREAMING_SENSOR, SET_IS_STREAMING_SENSOR_RECORDING, } from \"../../actions/actionTypes\";\n\nconst initialState = {\n  isStreamingSensor: false,\n  isStreamingSensorRecording: false,\n};\n\nexport default function streamData(state = initialState, action) {\n  switch (action.type) {\n    case SET_IS_STREAMING_SENSOR:\n      return {\n        ...state,\n        isStreamingSensor: action.payload,\n      };\n    case SET_IS_STREAMING_SENSOR_RECORDING:\n      return {\n        ...state,\n        isStreamingSensorRecording: action.payload,\n      };\n    default:\n      return state;\n  }\n}","import {\n  SET_STREAM_SENSOR_DATA,\n  SET_STREAM_SENSOR_RECORD_DATA,\n  SET_STREAM_SENSOR_DATA_RESET,\n} from \"../../actions/actionTypes\";\n\nconst initialState = {\n  sensorSimpleData: new Int16Array(),\n  sensorRecordedData: new Int16Array(),\n};\n\nexport default function sensorData(state = initialState, action) {\n  switch (action.type) {\n    case SET_STREAM_SENSOR_DATA_RESET:\n      return {\n        ...state,\n        sensorSimpleData: new Int16Array(),\n        sensorRecordedData: new Int16Array(),\n      };\n    case SET_STREAM_SENSOR_DATA:\n      return {\n        ...state,\n        sensorSimpleData: [...action.payload],\n      };\n    case SET_STREAM_SENSOR_RECORD_DATA:\n      return {\n        ...state,\n        sensorRecordedData: [...action.payload],\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from \"redux\";\n// modules\nimport rootData from \"./root\";\nimport errors from \"./errors\";\nimport streamData from \"./stream\";\nimport sensorData from \"./sensorData\";\n\nconst createAppReducer = () => combineReducers({\n  root: rootData,\n  errors,\n  stream: streamData,\n  sensorData,\n});\n\nexport default createAppReducer;","import createSagaMiddleware from \"redux-saga\";\n\nimport { applyMiddleware, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nimport rootSaga from \"./sagas\";\nimport createAppReducer from \"./reducers\";\n\nconst sagaMiddleware = createSagaMiddleware();\nconst enhancers = [];\n\nconst middleware = [\n  sagaMiddleware,\n];\n\nconst composedEnhancers = composeWithDevTools(\n  applyMiddleware(...middleware),\n  ...enhancers,\n);\n\nconst appReducer = createAppReducer();\n\nconst store = createStore(\n  appReducer,\n  composedEnhancers,\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","import axios from \"axios\";\n\n\nconst ApiService = {\n  // Stores the 401 interceptor position so that it can be later ejected when needed\n  interceptor_401: null,\n  refreshUrl: '/auth/refresh',\n\n  init(baseURL) {\n    axios.defaults.baseURL = baseURL;\n  },\n\n  mount401Interceptor() {\n    this.interceptor_401 = axios.interceptors.response.use((response) => response,\n      async (error) => {\n        if (error.request.status === 401) {\n          if (error.config.url.includes('auth')) {\n            // Refresh token has failed or auth endpoint return 401 => Logout the user\n            throw error;\n          } else {\n            // refresh token\n          }\n        }\n        // If error was not 401 just reject as is\n        throw error;\n      });\n  },\n  \n\n  unmount401Interceptor() {\n    // Eject the interceptor\n    axios.interceptors.response.eject(this.interceptor_401);\n  },\n  \n  setCustomAuthHeader(key) {\n    axios.defaults.headers.common.Authorization = key;\n  },\n\n  setContentType(type) {\n    axios.defaults.headers.contentType = type;\n  },\n\n  removeHeader() {\n    axios.defaults.headers.common = {};\n  },\n\n  get(resource) {\n    return axios.get(resource);\n  },\n\n  post(resource, data) {\n    return axios.post(resource, data);\n  },\n\n  put(resource, data) {\n    return axios.put(resource, data);\n  },\n\n  delete(resource) {\n    return axios.delete(resource);\n  },\n\n  customRequest(data) {\n    return axios(data);\n  },\n\n  customJsonRequest(data) {\n    this.setAuthHeader();\n    this.setContentType('application/json');\n    return axios(data);\n  },\n\n};\n\nexport default ApiService;\n","import \"./App.css\";\n\nimport React from \"react\";\nimport { LightTheme } from \"./components/Themes\";\nimport { Main } from \"./components/Main\";\nimport { Provider } from \"react-redux\";\nimport { SnackbarProvider } from \"notistack\";\n\nimport store from \"./redux/store\";\nimport ApiService from \"./services/api\";\nimport { initStreamSensorReader } from \"./redux/repositories/StreamSensorReader\";\nimport { apiHosts } from \"./configs\";\n\n// set base host to the axios instance\nApiService.init(apiHosts.baseHost);\n// initialize StreamSensorReader for handle as entrypoint\ninitStreamSensorReader();\n\nconst App = () => {\n  return (\n    <LightTheme>\n      <Provider store={store}>\n        <SnackbarProvider\n          anchorOrigin={{\n            horizontal: \"right\",\n            vertical: \"top\",\n          }}\n          autoHideDuration={ 2000 }\n        >\n          <Main />\n        </SnackbarProvider>\n      </Provider>\n    </LightTheme>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}