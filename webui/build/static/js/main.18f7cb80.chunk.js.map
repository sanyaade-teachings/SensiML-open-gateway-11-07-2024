{"version":3,"sources":["components/Themes/LightTheme.js","assets/AudioSuccess.mp3","assets/AudioBoxingBell.mp3","assets/AudioFail.wav","assets/AudioPunch.wav","assets/logo.png","assets/rocky-balboa.png","configs/index.js","redux/selectors/classes/index.js","hooks/useInterval.js","components/GameMode/GameModeStyle.js","components/GameMode/GameMode.js","assets/bell.png","components/Layout/Header.js","components/Layout/NavBar.js","components/Main/MainStyles.js","components/SimpleCard/SimpleCard.js","components/Status/Status.js","components/Configure/Scan.js","components/WebCamera/Camera.js","components/WebCamera/WebCamera.js","components/Configure/Configure.js","redux/actions/actionTypes/index.js","components/SensorStream/SensorDataChart.js","components/SensorStream/SensorStream.js","redux/selectors/sensorData/index.js","components/Results/ResultsFilter.js","components/Results/UploadModelJson.js","components/Results/UploadClassImagesJson.js","components/Results/Results.js","components/Record/Record.js","components/TestMode/TestMode.js","components/Main/Main.js","redux/sagas/errors/index.js","services/StreamReader/errors.js","services/StreamReader/index.js","redux/repositories/StreamSensorReader.js","redux/sagas/stream/watchStreamSensorStart.js","redux/sagas/stream/watchStreamSensorStop.js","redux/sagas/stream/index.js","redux/sagas/sensorData/watchSetChunkSensorData.js","redux/sagas/sensorData/index.js","services/api/index.js","redux/sagas/classes/index.js","redux/sagas/index.js","redux/reducers/root/index.js","redux/reducers/errors/index.js","redux/reducers/stream/index.js","redux/reducers/sensorData/index.js","redux/reducers/classes/index.js","redux/reducers/version/index.js","redux/reducers/index.js","redux/store.jsx","App.js","services/VersionCheck/index.js","index.js"],"names":["LightTheme","props","theme","useTheme","currentTheme","createTheme","palette","primary","light","lightBlue","main","dark","contrastText","getContrastText","accent","deepOrange","secondary","secondaryRed","red","notSelected","blueGrey","error","record","children","APP_API_URL","console","log","process","apiHosts","selectClassImage","className","state","classMapImages","classes","classNameValid","_","toString","imgPath","useInterval","callback","delay","savedCallback","useRef","useEffect","current","id","setInterval","clearInterval","GameModeStyle","makeStyles","gameWrapper","height","width","position","display","flexDirection","justifyContent","topContainerWrapper","padding","minHeight","gameWrapperCloseIcon","right","top","fontSize","headerWrapper","headerImg","maxWidth","marginBottom","headetTitle","fontFamily","fontWeight","spacing","headerWrap","alignItems","gap","paddingBottom","timingWrapper","margin","timingButtonsWrapper","bellImg","animation","transitions","easing","easeInOut","animationDuration","animationIterationCount","opacity","transform","resultGridWrap","resultWrapper","marginLeft","classImageWrapper","backgroundSize","backgroundRepeat","backgroundPosition","clsassImageAnimated","statsWrapper","scoreWrapper","aliginItems","flexWrap","scoreHeader","color","scoreItemImgBox","scoreItem","flex","scoreItemNumber","scoreItemNumberAnimated","resultBox","backdrop","zIndex","drawer","backgroundColor","winnerBox","winnerTypography","marginTop","loserTypography","UNKNOW_CLASSES","bin2String","array","results","String","fromCharCode","apply","split","pop","map","x","JSON","parse","filterFormatDate","dateString","date","Date","setSeconds","toISOString","substr","replace","GameMode","onClose","audioAction","AudioPunch","audioSuccess","AudioSuccess","audioFail","AudioFail","winnerImg","defaultWinnerImg","loserImg","defaultLoserImg","countdownTimeDefault","winnerCountThreshold","winnerText","loserText","useGameModeStyle","useState","isStreaming","setIsStreaming","reader","setReader","useSound","AudioBoxingBell","onplay","setPlayingBell","onend","playBell","stopBell","stop","playAction","playFail","stopPlainingFail","playSuccess","stopPlaingSuccess","countdownTime","setCountdownTime","currentClass","setCurrentClass","classScores","setClassScores","totalClassScores","setTotalClassScores","animateImgCard","setAnimateImgCard","classImage","useSelector","React","isWon","setIsWon","isLost","setIsLost","isNotUnknow","includes","handleStopStreaming","cancel","handleLose","a","setTimeout","handleSetResult","result","value","Classification","val","updatedVal","handleReset","valRef","useCleanup","Box","IconButton","onClick","size","Grid","container","direction","item","xs","md","src","logoImg","alt","Typography","variant","Paper","elevation","Button","disabled","url","fetch","method","then","response","body","getReader","stream","ReadableStream","start","controller","push","read","done","close","forEach","Response","headers","handleStartStreamRequest","Zoom","in","style","backgroundImage","entries","filter","name","toNumber","Backdrop","open","Header","navbarDisplayFlex","navDisplayFlex","linkText","textDecoration","textTransform","appBar","AppBar","Toolbar","useStyles","root","flexShrink","drawerPaper","drawerContainer","overflow","content","flexGrow","section1","update_available_button","borderColor","no_update_available_button","visibility","InconSelector","index","Connected","isConnected","green","grey","updateClicked","window","nb","connect","localVersion","versionData","cloudVersion","updateAvailable","Drawer","paper","List","text","ListItem","button","viewId","event","onChange","ListItemIcon","ListItemText","Divider","isCameraConnected","startIcon","Update","toolbar","mixins","minWidth","bullet","title","pos","SimpleCard","align","list","dense","Status","rows","config","mode","source","device_id","sample_rate","column_location","formControl","AlertDialog","setOpen","setIsScanning","deviceRows","setDeviceRows","setScanHelperText","scanningText","setScanningText","handleClose","handleDeviceScan","axios","post","toLowerCase","data","catch","detail","join","status","request","configuring","fullWidth","preventDefault","Dialog","DialogContent","DialogContentText","columns","field","headerName","onRowClick","handleRowSelection","DialogActions","autoFocus","Camera","cameraKey","cameraViewWrapper","details","controls","paddingLeft","section2","textAlign","divWrapper","selectWrapper","selectSource","selectLoading","lineHeight","handleCameraRequest","setCameraView","setIsCameraConnected","setCameraKey","indexSource","camera_index","event_type","Math","random","substring","WebCamera","videoSourceList","setVideoSourceList","SOURCE_SCREEN_INDEX","videoSource","setVideoSource","videoSourceLoading","setVideoSourceLoading","videoSourceLoadError","setVideoSourceLoadError","loadVideoSource","get","video_sources","isEmpty","isArray","mainSource","find","el","getVideoSourceName","useCallback","component","FormControl","sx","m","InputLabel","Select","labelId","e","target","label","sourceCam","MenuItem","FormHelperText","Tooltip","Boolean","Configure","streamingSource","setSource","streamingMode","setMode","deviceID","setDeviceID","setError","helperText","setHelperText","setIsConfiguring","mapdata","setStreamingMode","setIsConnected","streaming","setColumns","Object","keys","sort","setStreamingSource","camera_on","setBaudRate","baud_rate","setConfig","toUpperCase","Card","CardContent","Fragment","type","res","onSubmit","baudRate","FormLabel","RadioGroup","row","FormControlLabel","control","Radio","TextField","SET_GLOBAL_LOADER","FETCH_DATA_ERROR_MSG","SET_DATA_ERROR_MSG","START_STREAM_SENSOR_SAGA","STOP_STREAM_SENSOR_SAGA","SET_IS_STREAMING_SENSOR","SET_IS_STREAMING_SENSOR_RECORDING","SET_STREAM_SENSOR_DATA_RESET","SET_CHUNK_SENSOR_DATA_SAGA","SET_STREAM_SENSOR_DATA","SET_STREAM_SENSOR_RECORD_DATA","FETCH_CLASS_MAP_IMAGES","SET_CLASS_MAP_IMAGES","UPDATE_CLOUD_VERSION","UPDATE_LOCAL_VERSION","UPDATE_AVAILABLE","SensorDataChart","sensorData","revision","setRevision","length","layout","visible","autosize","l","r","b","t","pad","xaxis","autorange","yaxis","cardWrapper","dataWrapper","chartWrapper","buttonWrapper","zeroOpacity","SensorStream","column","dispatch","useDispatch","isSplitCharts","SetIsSplitCharts","isStreamingSensor","isStreamingSensorRecording","sensorSimpleData","y","i","floor","startSensorStreaming","payload","countSamples","dataType","stopSensorStreaming","setClearStream","Switch","checked","inputProps","UploadModelJson","errorMessage","setErrorMessage","hidden","uploadedFile","files","FileReader","readAsText","onload","json_data","onerror","UploadClassImagesJson","id_counter","sliderroot","sliderinput","cardBottom","handleStreamRequest","setStreamCallback","Results","setDelay","filterLength","setfilterLength","pageSize","sortModel","Slider","newValue","min","max","Record","isRecording","recording","setRecording","filename","setFilename","recordDistabled","setRecordDistabled","handleRecordRequest","blob","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","appendChild","click","parentNode","removeChild","handleDownloadRequest","TestMode","lg","setLastValue","imageWrapperCard","Main","activeView","setActiveView","setDataType","gameModeAssets","setGameModeAssets","useSnackbar","enqueueSnackbar","closeSnackbar","errorDataMsg","errors","handleChange","data_type","alertUser","returnValue","fetchClassMapImages","addEventListener","removeEventListener","useLayoutEffect","CssBaseline","justify","samplerate","action_audio","winner_audio","loser_audio","winner_img","loser_img","countdown_timer","winner_classification_count_threshold","loser_text","winner_text","handleErrorMsg","watchErrorSaga","action","put","takeEvery","BaseStreamHttpError","errorCode","constructor","Error","StreamReader","fetchUrl","this","undefined","ok","statusText","actionType","arrayType","Float32Array","Int16Array","store","chunk","buffer","streamSensorReader","workerStreamStart","watchStreamSensorStart","call","debug","takeLatest","workerStreamStop","watchStreamSensorStop","streamSagas","all","fork","workerSetStreamChunkSensorData","watchSetChunkSensorData","chunkLength","updatedSensorSimpleData","select","sensorRecordedData","left","chunkI","sensorDataSagas","ApiService","interceptor_401","refreshUrl","init","baseURL","defaults","mount401Interceptor","interceptors","use","unmount401Interceptor","eject","setCustomAuthHeader","key","common","Authorization","setContentType","contentType","removeHeader","resource","delete","customRequest","customJsonRequest","setAuthHeader","classesMapImagesSagas","reponse","reduce","acc","img","rootSaga","classesSagas","initialState","globalLoader","rootData","streamData","classesData","createAppReducer","combineReducers","sagaMiddleware","createSagaMiddleware","middleware","composedEnhancers","composeWithDevTools","applyMiddleware","appReducer","createStore","run","App","updateVersion","versionCheck","checkUpdate","anchorOrigin","horizontal","vertical","autoHideDuration","VersionCheck","cloudURL","baseurl","cloudurl","localResponse","cloudResp","SensiML_Open_Gateway_Windows","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.18f7cb80.chunk.js","sourcesContent":["import React from \"react\";\nimport { blueGrey, deepOrange, lightBlue, red } from \"@material-ui/core/colors\";\nimport { createTheme, MuiThemeProvider, useTheme, } from \"@material-ui/core/styles\";\n\nconst LightTheme = (props) => {\n  const theme = useTheme();\n\n  const currentTheme = createTheme({\n    palette: {\n      primary: {\n        light: lightBlue[600],\n        main: lightBlue[800],\n        dark: lightBlue[800],\n        contrastText: theme.palette.getContrastText(lightBlue[800]),\n      },\n      accent: {\n        light: deepOrange[200],\n        main: deepOrange[500],\n        dark: deepOrange[800],\n        contrastText: theme.palette.getContrastText(deepOrange[500]),\n      },\n      secondary: {\n        light: lightBlue[600],\n        main: lightBlue[700],\n        dark: lightBlue[800],\n        contrastText: theme.palette.getContrastText(lightBlue[600]),\n      },\n      secondaryRed: {\n        light: red[600],\n        main: red[700],\n        dark: red[800],\n        contrastText: theme.palette.getContrastText(red[600]),\n      },\n      notSelected: {\n        light: blueGrey[500],\n        main: blueGrey[700],\n        dark: blueGrey[800],\n        contrastText: theme.palette.getContrastText(blueGrey[600]),\n      },\n      error: {\n        light: red[200],\n        main: red[500],\n        dark: red[800],\n        contrastText: theme.palette.getContrastText(red[500]),\n      },\n      record: {\n        light: red[900],\n        main: red[900],\n        dark: red[900],\n        contrastText: theme.palette.getContrastText(red[500]),\n      },\n    },\n  });\n\n  return (\n    <MuiThemeProvider theme={currentTheme}>{props.children}</MuiThemeProvider>\n  );\n};\n\nexport default LightTheme;\n","export default __webpack_public_path__ + \"static/media/AudioSuccess.85084e25.mp3\";","export default __webpack_public_path__ + \"static/media/AudioBoxingBell.46a79923.mp3\";","export default __webpack_public_path__ + \"static/media/AudioFail.27bbead0.wav\";","export default __webpack_public_path__ + \"static/media/AudioPunch.111d3580.wav\";","export default __webpack_public_path__ + \"static/media/logo.9c9e423b.png\";","export default \"data:image/png;base64,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\"","export const APP_API_URL = 'http://127.0.0.1:5555/' || '/';\nexport const CLOUD_API_URL = process.env.REACT_APP_CLOUD_API_URL || 'https://sensiml.cloud/'\nconsole.log(\"process.env.REACT_APP_API_URL\", process.env.REACT_APP_API_URL)\nexport const apiHosts = {\n  baseHost: APP_API_URL,\n  cloudHost: CLOUD_API_URL,\n};\n","import _ from \"lodash\";\nimport { APP_API_URL } from \"../../../configs\";\n\nexport const selectClassImage = className => (state) => {\n  const { classMapImages } = state.classes;\n  const classNameValid = _.toString(className);\n\n  if (classMapImages && classNameValid) {\n    const imgPath = classMapImages[classNameValid];\n    if (imgPath) {\n      console.log(\"imgPath\", imgPath)\n      return `${APP_API_URL}${imgPath}`;\n    }\n    return \"\";\n  }\n  return \"\";\n};\n","import { useEffect, useRef } from \"react\";\n\nconst useInterval = (callback, delay) => {\n  const savedCallback = useRef();\n\n  // Remember the latest function.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    const tick = () => {\n      savedCallback.current();\n    };\n    if (delay !== null) {\n      const id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n};\n\nexport default useInterval;\n","import { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport { colorbar } from \"plotly.js/lib/bar\";\r\n\r\nconst GameModeStyle = makeStyles((theme) => ({\r\n  gameWrapper: {\r\n    height: \"100vh\",\r\n    width: \"100%\",\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"space-between\"\r\n  },\r\n\r\n  topContainerWrapper: {\r\n    padding: \"2rem\",\r\n    minHeight: \"60vh\"\r\n  },\r\n  gameWrapperCloseIcon: {\r\n    position: \"absolute\",\r\n    right: \"0\",\r\n    top: \"0\",\r\n    fontSize: \"3rem\",\r\n  },\r\n  headerWrapper: {\r\n    height: \"100%\",\r\n  },\r\n  headerImg: {\r\n    maxWidth: \"300px\",\r\n    marginBottom: \"1rem\"\r\n  },\r\n  headetTitle: {\r\n    fontFamily: \"Calibri\",\r\n    fontWeight: 600,\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  headerWrap: {\r\n    display: \"flex\",\r\n    alignItems: \"flex-end\",\r\n    gap: theme.spacing(4),\r\n    height: \"30%\",\r\n    paddingBottom: \"1rem\",\r\n  },\r\n\r\n  timingWrapper: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(4),\r\n    height: \"70%\",\r\n    width: \"100%\",\r\n    margin: \"auto\",\r\n  },\r\n  \r\n  timingButtonsWrapper: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    width: \"100%\",\r\n    \"& > button\": {\r\n      width: \"25%\",\r\n      margin: `0 1rem`,\r\n    }\r\n  },\r\n\r\n  bellImg: {\r\n    animation: `$myEffect 1000ms ${theme.transitions.easing.easeInOut}`,\r\n    animationDuration: \"4s\",\r\n    animationIterationCount: \"infinite\"\r\n  },\r\n  \"@keyframes myEffect\": {\r\n    \"0%\": {\r\n      opacity: 1,\r\n      transform: \"scale(1)\",\r\n    },\r\n    \"25%\": {\r\n      opacity: 1,\r\n      transform: \"scale(0.9)\",\r\n    },\r\n    \"75%\": {\r\n      opacity: 1,\r\n      transform: \"scale(1.1)\",\r\n    },\r\n    \"100%\": {\r\n      opacity: 1,\r\n      transform: \"scale(1)\",\r\n    },\r\n  },\r\n  resultGridWrap: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n  },\r\n  resultWrapper: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    width: \"95%\",\r\n    marginLeft: \"auto\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  classImageWrapper: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    height: \"100%\",\r\n    width: \"60%\",\r\n    backgroundSize: \"contain\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundPosition: \"center\",\r\n    margin: \"1rem\",\r\n  },\r\n  clsassImageAnimated: {\r\n    animation: `$classAnimation 500ms ${theme.transitions.easing.easeInOut}`,\r\n    animationDuration: \"500ms\",\r\n  },\r\n  \"@keyframes classAnimation\": {\r\n    \"0%\": {\r\n      transform: \"scale(1)\",\r\n    },\r\n    \"100%\": {\r\n      transform: \"scale(1.15)\",\r\n    },\r\n  },\r\n  statsWrapper: {\r\n    marginBottom: \"2rem\",\r\n    padding: \"2rem\"\r\n  },\r\n\r\n  scoreWrapper: {\r\n    display: \"flex\",\r\n    margin: \"auto\",\r\n    justifyContent: \"space-between\",\r\n    aliginItems: \"center\",\r\n    flexWrap: \"wrap\",\r\n    gap: \"1rem\",\r\n  },\r\n  scoreHeader: {\r\n    color: theme.palette.primary.main,\r\n    marginBottom: theme.spacing(1),\r\n    fontWeight: 600,\r\n  },\r\n  scoreItemImgBox: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    minHeight: \"130px\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundSize: \"contain\",\r\n    backgroundPosition: \"center\",\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  scoreItem: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    flex: \"1\",\r\n    padding: \"1rem\"\r\n  },\r\n\r\n  scoreItemNumber: {\r\n    color: theme.palette.primary.main,\r\n  },\r\n  scoreItemNumberAnimated: {\r\n    animation: `$rotateFullY 800ms ${theme.transitions.easing.easeInOut}`,\r\n    color: theme.palette.primary.main,\r\n  },\r\n\r\n  \"@keyframes rotateFullY\": {\r\n    \"0%\": { \r\n      transform: \"rotateY(0)\"\r\n     },\r\n    \"100%\": { transform: \"rotateY(360deg)\" }\r\n  },\r\n  \r\n\r\n  resultBox: {\r\n    fontSize: \"6rem\",\r\n    margin: \"0\",\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    fontWeight: 600,\r\n    \"& > img\": {\r\n      width: \"60%\"\r\n    },\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    backgroundColor: \"rgba(255, 255, 255, 0.9)\",\r\n  },\r\n  winnerBox: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    \"& > img\": {\r\n      width: \"400px\",\r\n    },\r\n  },\r\n  winnerTypography: {\r\n    animation: `$colorChange 1000ms ${theme.transitions.easing.easeInOut}`,\r\n    animationIterationCount: \"infinite\",\r\n    marginBottom: theme.spacing(2),\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  loserTypography: {\r\n    marginBottom: theme.spacing(2),\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  \"@keyframes colorChange\": {\r\n    \"0%\": { color: \"#0071c5\" },\r\n    \"100%\": { color: \"#ffd215\" }\r\n  }\r\n}));\r\n\r\n\r\nexport default GameModeStyle;","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nimport _ from \"lodash\";\r\nimport useSound from 'use-sound';\r\nimport CloseOutlinedIcon from '@material-ui/icons/CloseOutlined';\r\nimport Confetti from 'react-confetti'\r\n\r\nimport { Backdrop, Box, IconButton, Button, Grid, Paper, Typography, Zoom } from \"@material-ui/core\";\r\nimport { useSelector } from \"react-redux\";\r\nimport AudioSuccess from \"assets/AudioSuccess.mp3\";\r\nimport AudioBoxingBell from \"assets/AudioBoxingBell.mp3\";\r\nimport AudioFail from \"assets/AudioFail.wav\";\r\nimport AudioPunch from \"assets/AudioPunch.wav\";\r\n\r\nimport logoImg from \"assets/logo.png\";\r\nimport bellImg from \"assets/bell.png\";\r\nimport defaultWinnerImg from \"assets/rocky-balboa.png\";\r\nimport defaultLoserImg from \"assets/rocky-balboa.png\";\r\n\r\n\r\nimport { APP_API_URL } from \"configs\";\r\nimport { selectClassImage } from \"redux/selectors/classes\";\r\nimport { useInterval } from \"hooks\";\r\n\r\nimport useGameModeStyle from \"./GameModeStyle\";\r\n\r\nconst UNKNOW_CLASSES = [\"0\", 0, \"Unknow\", \"Bad Punch\"];\r\n\r\n\r\nconst bin2String = (array) => {\r\n  const results = String.fromCharCode.apply(null, array).split(\"\\n\");\r\n  results.pop();\r\n\r\n  return results.map((x) => {\r\n    return JSON.parse(x);\r\n  });\r\n}\r\n\r\nexport const filterFormatDate = (dateString) => {\r\n  if (!dateString) {\r\n    return \"\";\r\n  }\r\n  const date = new Date(0);\r\n  date.setSeconds(dateString);\r\n  return date.toISOString().substr(14, 5).replace(\"0\", \"\");\r\n};\r\n\r\nconst GameMode = ({\r\n  onClose,\r\n  classMapImages={},\r\n  audioAction=AudioPunch,\r\n  audioSuccess=AudioSuccess,\r\n  audioFail=AudioFail,\r\n  winnerImg=defaultWinnerImg,\r\n  loserImg=defaultLoserImg,\r\n  countdownTimeDefault=100,\r\n  winnerCountThreshold=40,\r\n  winnerText=\"Great job! Champ!\",\r\n  loserText=\"loser_text\",\r\n}) => {\r\n  const classes = useGameModeStyle();\r\n  const [isStreaming, setIsStreaming] = useState(false);\r\n  const [reader, setReader] = useState();\r\n  const [playBell, {stop: stopBell}] = useSound(AudioBoxingBell, {\r\n    onplay: () => setPlayingBell(true),\r\n    onend: () => setPlayingBell(false),\r\n  });\r\n  const [playAction] = useSound(audioAction);\r\n  const [playFail, {stop: stopPlainingFail}] = useSound(audioFail);\r\n  const [playSuccess, {stop: stopPlaingSuccess}] = useSound(audioSuccess);\r\n\r\n  const [playingBell, setPlayingBell] = useState(false);\r\n  const [countdownTime, setCountdownTime] = useState(countdownTimeDefault);\r\n  const [currentClass, setCurrentClass] = useState(\"\");\r\n  const [classScores, setClassScores] = useState({});\r\n  const [totalClassScores, setTotalClassScores] = useState(0);\r\n  const [animateImgCard, setAnimateImgCard] = useState(false);\r\n  const classImage = useSelector(selectClassImage(currentClass));\r\n\r\n\r\n  const [isWon, setIsWon] = React.useState(false);\r\n  const [isLost, setIsLost] = React.useState(false);\r\n\r\n  const useCleanup = (val) => {\r\n    const valRef = useRef(val);\r\n    useEffect(() => {\r\n      valRef.current = val;\r\n    }, [val]);\r\n  \r\n    useEffect(() => {\r\n      return () => {\r\n        if (valRef?.current) {\r\n          valRef.current.cancel();\r\n        }\r\n      };\r\n    }, []);\r\n  };\r\n\r\n  const isNotUnknow = (className) => {\r\n    return !UNKNOW_CLASSES.includes(className);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  const handleCloseWinnerWindow = () => {\r\n    setIsWon(false);\r\n    handleReset();\r\n  };\r\n\r\n  const handleCloseLoserWindow = () => {\r\n    setIsLost(false);\r\n    handleReset();\r\n  };\r\n\r\n  const handleStopStreaming = () => {\r\n    setIsStreaming(false);\r\n    reader.cancel();\r\n  };\r\n\r\n  const handleLose = async () => {\r\n    playBell();\r\n    handleStopStreaming();\r\n    setTimeout(() => stopBell(), 2000);\r\n    setTimeout(() => playFail(), 2000);\r\n    setTimeout(() => setIsLost(true), 2000);\r\n  };\r\n\r\n  const handleWin = () => {\r\n    handleStopStreaming();\r\n    setIsWon(true)\r\n    playSuccess();\r\n  };\r\n\r\n  const handleSetCurrentClass = (value) => {\r\n    setCurrentClass(value || \"\");\r\n  };\r\n\r\n  const handleSetResult = (result) => {\r\n    setAnimateImgCard(true);\r\n    handleSetCurrentClass(result.Classification);\r\n    if (isNotUnknow(result.Classification)) {\r\n      playAction();\r\n      setClassScores(val => {\r\n        const updatedVal = { ...val };\r\n        if (!updatedVal[result.Classification]) {\r\n          updatedVal[result.Classification] = 1;\r\n        } else {\r\n          updatedVal[result.Classification] += 1;\r\n        }\r\n        return updatedVal;\r\n      });\r\n      setTotalClassScores(val => (val + 1));\r\n    }\r\n  };\r\n\r\n  const handleReset = () => {\r\n    stopPlaingSuccess();\r\n    stopPlainingFail();\r\n    setCountdownTime(countdownTimeDefault);\r\n    setClassScores({});\r\n    setCurrentClass(\"\");\r\n    setTotalClassScores(0);\r\n  };\r\n\r\n  const handleStartStreamRequest = (\r\n    url=`${process.env.REACT_APP_API_URL}game-results`,\r\n  ) => {\r\n    handleReset();\r\n    setIsStreaming(true);\r\n    fetch(url, { method: \"GET\" }).then((response) => {\r\n      const reader = response.body.getReader();\r\n      setReader(reader);\r\n      const stream = new ReadableStream({\r\n        start(controller) {\r\n          // The following function handles each data chunk\r\n          function push() {\r\n            // \"done\" is a Boolean and value a \"Uint8Array\"\r\n            reader.read().then(({ done, value }) => {\r\n              // Is there no more data to read?\r\n              if (done) {\r\n                // Tell the browser that we have finished sending data\r\n                setIsStreaming(false);\r\n                controller.close();\r\n                return;\r\n              }\r\n              var results = bin2String(value);\r\n\r\n              _.forEach(results, (result) => {\r\n                handleSetResult(result);\r\n              });\r\n  \r\n              push();\r\n            });\r\n          }\r\n  \r\n          push();\r\n        },\r\n      });\r\n  \r\n      return new Response(stream, { headers: { \"Content-Type\": \"text/html\" } });\r\n    });\r\n  };\r\n\r\n  const handleCoundownTimer = () => {\r\n    setCountdownTime(val => (val - 1));\r\n    if (countdownTime - 1 <= 0) {\r\n      handleLose();\r\n    }\r\n  };\r\n\r\n  useInterval(\r\n    handleCoundownTimer,\r\n    countdownTime && isStreaming > 0 ? 1000 : null, \r\n  );\r\n\r\n  useCleanup(reader);\r\n\r\n  useEffect(() => {\r\n    if (totalClassScores >= winnerCountThreshold) {\r\n      handleWin();\r\n    }\r\n  }, [totalClassScores]);\r\n\r\n  useEffect(() => {\r\n    if (animateImgCard) {\r\n      setTimeout(() => {\r\n        setAnimateImgCard(false);\r\n      }, 500)\r\n    }\r\n  }, [animateImgCard]);\r\n\r\n  return (\r\n    <Box className={classes.gameWrapper}>\r\n      <IconButton color=\"primary\" onClick={handleClose} className={classes.gameWrapperCloseIcon} size=\"medium\">\r\n        <CloseOutlinedIcon />\r\n      </IconButton>\r\n      <Grid\r\n        container \r\n        direction=\"row\"\r\n        justifyContent=\"space-between\"\r\n        alignItems=\"flex-start\"\r\n        className={classes.topContainerWrapper}\r\n      >\r\n        <Grid item xs={12} md={6} className={classes.headerWrapper}>\r\n          <Box className={classes.headerWrap}>\r\n            <img className={classes.headerImg} src={logoImg} alt=\"\" />\r\n            <Typography className={classes.headetTitle} variant=\"h2\" color=\"primary\">Intelligent Edge Sensing</Typography>\r\n          </Box>\r\n          <Paper elevation={0} className={classes.timingWrapper}>\r\n            <Typography className={classes.scoreHeader} variant=\"h4\">Timer</Typography>\r\n              <Box className={classes.resultBox}>\r\n                {countdownTime > 0 ? filterFormatDate(countdownTime) : <img className={classes.bellImg} src={bellImg} alt=\"\"/>}\r\n              </Box>\r\n            <Box className={classes.timingButtonsWrapper}>\r\n              <Button variant=\"contained\" color=\"primary\" size=\"large\" disabled={isStreaming} onClick={() => handleStartStreamRequest()}>\r\n                Start\r\n              </Button>\r\n              {isStreaming ?\r\n                <Button variant=\"outlined\" color=\"primary\" onClick={() => handleStopStreaming()}>\r\n                  Stop\r\n                </Button> :\r\n                <Button variant=\"outlined\" color=\"primary\" onClick={() => handleReset()}>\r\n                  Reset\r\n                </Button>\r\n              }\r\n            </Box>\r\n          </Paper>\r\n\r\n        </Grid>\r\n        <Grid item xs={12} md={6} className={classes.resultGridWrap}>\r\n        <Zoom in={isStreaming}>\r\n          <Paper elevation={0} className={classes.resultWrapper}>\r\n            <Box\r\n              className={`${classes.classImageWrapper} ${animateImgCard ? classes.clsassImageAnimated : \"\"}`}\r\n              style={{ backgroundImage: `url(${classImage})` }}\r\n            />\r\n            <Typography variant=\"h1\">{currentClass}</Typography>\r\n          </Paper>\r\n        </Zoom>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid\r\n        container \r\n        direction=\"row\"\r\n        className={classes.statsWrapper}\r\n      >\r\n        <Grid item xs={10} md={10} >\r\n          <Typography className={classes.scoreHeader} variant=\"h4\">Your Score</Typography>\r\n          <Box className={classes.scoreWrapper} elevation={0}>\r\n            {_.entries(classMapImages).filter(([name]) => (isNotUnknow(name))).map(([name, imgPath]) => (\r\n              <Paper variant=\"outlined\" className={classes.scoreItem} >\r\n                <Box alt=\"\" className={classes.scoreItemImgBox} style={{ backgroundImage: `url(${APP_API_URL}${imgPath})` }}/>\r\n                <Typography variant=\"h5\">{name}</Typography>\r\n                <Typography\r\n                  variant=\"h1\"\r\n                  className={\r\n                    `${name === currentClass ? classes.scoreItemNumberAnimated : \"\" } ${_.toNumber(classScores[name]) > 0 ? classes.scoreItemNumber : \"\" }`\r\n                  }\r\n                >\r\n                  {classScores[name] || 0}\r\n                </Typography>\r\n              </Paper>\r\n            ))}\r\n          </Box>\r\n        </Grid>\r\n        <Grid item xs={2} md={2}>\r\n          <Box className={classes.resultWrapper}>\r\n            <Typography className={classes.scoreHeader} variant=\"h4\">Total</Typography>\r\n            <Paper variant=\"outlined\" className={`${classes.scoreItemImgBox} ${classes.resultBox}`}>{totalClassScores}/{winnerCountThreshold}</Paper>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n      <Backdrop open={isWon} className={classes.backdrop}>\r\n        <Confetti/>\r\n        <Box className={classes.winnerBox}>\r\n          <img src={winnerImg} alt=\"\"/>\r\n          <Typography className={classes.winnerTypography} variant=\"h2\">{loserText}</Typography>\r\n          <Button variant=\"outlined\" color=\"primary\" size=\"large\" onClick={handleCloseWinnerWindow}>\r\n            Play Again\r\n          </Button>\r\n        </Box>\r\n      </Backdrop>\r\n      <Backdrop open={isLost} className={classes.backdrop}>\r\n        <Box className={classes.winnerBox}>\r\n          <img src={loserImg} alt=\"\"/>\r\n          <Typography className={classes.loserTypography} variant=\"h2\">{winnerText}</Typography>\r\n          <Button variant=\"outlined\" color=\"primary\" size=\"large\" onClick={handleCloseLoserWindow}>\r\n            Play Again\r\n          </Button>\r\n        </Box>\r\n      </Backdrop>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default GameMode;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZcAAAGXCAYAAAB/Zh0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxEAAAsRAX9kX5EAAAASdEVYdFNvZnR3YXJlAEdyZWVuc2hvdF5VCAUAACN8SURBVHhe7Z1PqJzXeYe9aKEUQlNIF9mY0kIpgTahXWSRglzLsmXLvldkI4II2JsIHAgJViELG7kEItCmalJEazBJbGjShYSgwaCKGIVU2HHSxI4FjmUpVjBunBjcNFEMwajT+7uascajd+7Md97z/3t+8ICR7p1vNHO+8/g77/lzCyGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEJIruzZs+cju3fvfvT2228/B32g71Pf6/QrJoSQfNnqhPbfcccdV7aYQLdc0fc8/coJISRddu3a9f6tTuf0QicEfXNa3/u0CRBCSNyog9m9e/fzRudTlEMP3Dk5cfTuycVvbUze+sHm5OqLm5PXn9mYXDhz3+SFpyAGL/3Hvl+/8/Lmf04ubZyDTrm4+dXJy5sMh5K8qU0sEsqpx/ZN3nhuczK5tH+bdy4emFx45suT73/na9vov/Vns78H6I00bX7z/ultT0j6bInluNXJ5+TI4b2TM0/eu/1ksnhD6IZ69ttfn5w9e/Y96M8QDPRIsjZ/ceOXk1c3/3h66xOSLltiuc3q7FOzf2PP5Ngjd0/On7SFMs9Pf3Dkpptshv7O+h2AlknZ5v/v0uZnp7c/Iemy1dFnK+AfPHC9fiKhWI1+GZe/90XzJhMaKrB+B6Blkrb5VzYfnd7+hKTJdHaYKYJYzAryl89t2A19DXa60fR31u8AtEzSNo9cSOpM17OYUvBgFeQ9vHXh0+ZNJvR31u8AtEzSNv/KJuubSNpotbYlhxB2KsjH4PXnP3/TTaY/s34WoAfStPmNc9Pbn5B08chlSEE+Fm//+JPb/9cm9N/WzwD0RMw2f+3S5unJq5ssmCXpM1QuoQX5FOgp6aEH74IE/MPf3/3VySubt0FHMP2Y5Mw6clH95Inj97gK8rGQ1PS0pKcm671CHNQupk2EEEKGZ5lc9H+vMQvyoWi4TU8oqucglHwgF0KIK/NySV2QXxcJTWLT+5nv8CAfyIUQEhwV9v7txL7TNdRPNOQmoWgIzursIC/IhRAyKCrqaeuH6zul2h19LiQUTQ7QJAGrg4NyIBdCyMpom+3JK5uPXntl43mrk88JBfk2QC6EEDOaenjtlc3j1y5uXLE6+VzMF+StTgzqBLkQQt7NllD2bx8IpC21jY4+F7OCvGacWR0X1A9yIWTEUUFeB/9sr7o1OvmcqH6itTAU5PsAuRAystRUkNfxuBTk+wS5EDKCUJCH3CAXQjqN6icU5KEUyIWQTrJdP6EgD5WAXAhpOBTkoVaQCyGFosK6hq2uF9bX59ql/c9eu7RxaYtfW518Tq5d3P8///vDzbdeOnvfdnEeYMZrz2g41m7DrbB9f7LNPGkpetqwOmsAqJHN+6e3LiH1BrEAtAiCIRVnu0aSudj+zsUDkwvPfHny/e98bRv9t/7M+lmAVkneznXfbt2/01uZkLqS+6lFN9ez3/765OzZs+9Bf4ZgoBfytXOeXshCdu/efVsNXPzWxlftRpuGn/7gyE033Az9nfU7AK2Rq53r/rXu6xJMuzZSInv27Ln/jjvuOL04RbIkmqprNdpUXP7eF80bTmjYwPodgNbI1c51/1r3dUFOq5+bdnkkdbY+7I9smf1544soTk1y0d9ZvwPQGrnaeYVy2Ub9nfq9aRdIUmT6tGJ+ATWgBYZWo03FWxc+bd5wQn9n/Q5Aa+Rq57UvEOYpJlFqF8sMLTCzGm4qXn/+8zfdcPoz62cBWiV1O9d9a93PtYFgIkcFLuuDrhHtBqytUqwGnIq3f/zJ7f+DE/pv62cAWidVO9f92tIu3hT8I2XXrl3v3/pAryx+wDWjhqqdgq2GDAD1oPu0weMhrqhfnHaRJDRbln7U+HCbQI1WOwfvhA7TmmH9PcCYOfNPfzmZPP2BtfnvU7ear2PRoFTeRf3itIskodn6IJt6agGAuFz+yvsmk2/esjZPPPwn5ut0xpVpF0lCoul3xocKACPi0Cc+akpkJ/Q71mv1hPrHaVdJhmbrA/zs4gcKAOPj1BduNSWyDD3tWK/TGZ+ddpVkaFqutwBAPPbvu23yxr/+nimSZfQ+PEbdxRHkAgAzHrr/r02J7ETPw2PIxRHkAgDzMDx2A+TiCHIBgHlChsdO/N2fma/VOsjFEeQCAIsMHR67evJ3Jgc//jHztVoGuTiCXADAYujw2Av//Ifm67QMcnEEuUAu1tlNYR1aXvXdEgyPIRdXkAt4mXX62l5H53VoLyntgCuuvrhp7jcVC73+7Fq6rq4/v82P9X5hfY4c+rApkWX0NjyGXBxBLrAOBw/cud1Zz8sjtThiMRPQTD76d+jfY/074WbO/+MfmSJZRk/DY8jFEeQCi6jjPXJ473ZH3JJEhjKTjv6d+vciHBsNj+mJxBLJMnoZHkMujiAX0OmAGko6f/LebkWyLvr363PQ51H7qYk5CRkek5Ss12oJ5OIIchkfyGR9kM0Nhg6P6eet12kJ5OIIcukfza7SsI9qDm88h0w86PPT56jPc2yz1kKGx/TEY71WKyAXR5BLn6jjO/bI9acTq5OEOOjz1ec8FtGMbXgMuTiCXPoBoZRlLKLRbDBLJMtoeXgMuTiCXNoHodTHTDTW99U6WscyluEx5OIIcmkTFZc19k9Bvm70/eh76m0ygKYaWxJZRqvDY8jFEeTSDrNhr8vnNsyODOpG31tPw2ZjGB5DLo4gl/rR4r5Tj+3jKaUT9D3q+2x90WbI8Jh2W7Zeq1aQiyPIpV60TYmGVKwOCvpA32/Le6ANHR7TRpgtDY8hF0eQS32os9G2JFZnBH2i77tVyQwdHtNW/tbr1AhycQS51AP1FJjVZaz2USs9D48hF0eQS3nUmbByHuZRe9AuAFZ7qZEnHv4TUyLLaGV4DLk4glzKwfAXrKKl4bLLX3mfKZJltDA8hlwcQS750ZoHpAJDUHupfa3MoU981JTITtQ+PIZcHEEu+dDUU2Z/gQe1n5qnMPc2PIZcHEEu6dGiOR1IxToViIHakdpTrYsxhw6PSUjW69QAcnEEuaRFRVmK9ZCCWov+IcNj+h3rtUqDXBxBLmnQ0AWbSUIO1M5qGyobOjympx3rdUqDXBxBLvHRqYUMgUFO1N7U7qz2WIoehseQiyPIJR6azcMiSCiJ2l8ts8o0E8ySyE7UNjyGXBxBLnFQgdW62QFKoPZotdPcaC2LJZFl1DY8hlwcQS4+eFqBWlG7LF2L0TRjTTe2RLKMmobHkIsjyCUcaitQOzXUYloeHkMujiCX4Wh9ATPBoCXUXkuuixk6PCa0GaYOGNO2/qUWWiIXR5DLMLTPE08r0CJqt6X2KQsZHlvkzLEPZpcMcnEEuawPRXvogVLF/pDhsUX0NJNzPzLk4ghyWQ3DYNAbpYbJfvQvww4WW8axz3zIfP3YIBdHkMvOaDYY27dAj6hd51oTowL90BMrV5Gj6I9cHEEuy9EhXtRXoGfUvlOffKmnjKEnVa5Djh2VkYsjyMWG+gqMiVR1GInFEkMsUh84hlwcQS7vRePQnLkCY0TtPmYdRsNWlhBik7LAj1wcQS430I3FansYM2r/sQTjnXq8LimHx5CLI8jlOmzjAnAd3QfeQn/q4bBFUg2PIRdHkMt1sVC4B7iB7gePYHI9tcyTYvYYcnFk7HJBLAA2oYLJVWtZJMWOysjFkTHLRVMwrZsKAG4wdKqy9gKzOv8cxN5RGbk4Mla5IBaA9RkimKFHHMcm5vAYcnFkjHJBLADDWVcwpeUSc3gMuTgyNrkgFoBw1hFMabmIWMNjyMWRMckFsQD4WSWYGuQiYgyPIRdHxiIXxAIQj50Ec+TQh83OPjfaKNN6f0NALo6MQS6IBSA+ywSj1fJWZ18CzVyz3uO6IBdHepeLTt6zbgwA8LPsZEsdT2x19rnRbswHP/4x8z2uA3JxpGe5sEASIC3LFlrGOHUyFp7hMeTiSK9yQSwAeVgmmFqeXkTo8BhycaRHuWhXV06PBMiH7rfF3ZRVe0lxSFgIocNjyMWR3uQSfdv81z43mbz+8GTyk4P23wPANtZ2/bXMHBMhw2PIxZHe5HL+ZKSDvn7+pcnknV9M3o3+2/o5AHgX3X+L92Tss/M9DB0eQy6O9CSXU4/tMxv8IK58ajJ5+8LUKAvRU4z1OwDwLroP5+9LDUfVNDw25GAx5OJIL3KJspZFTyvXfjM1iRGGxgDWYnENTMmdkhfRRIP597YTyMWRHuSimSpWAx/Er56eGmRJJB3r9wDAZHEGWU3DY6oFzb+3ZSAXR1qXiwqIrinHehq5+t2pQXaIfsb6fQAw0X05X+BvcXgMuTjSulxeeOo+s2GvhcTy21en9liRNx+3XwMAlqL7c/5+rWl4bJ2dk5GLIy3LxVXAHyIWRYV+63UAYEcWC/y1DI/pnP/592WBXBxpVS5HDu81G/JaDBWLftZ6HQBYC92vs3u3puGxVdvyIxdHWpTLwQPOrV2WTTVeFobEAFzoftV9O7uHaznzZdW6F+TiSItycdVZVs0Ks8IUZAA3i/UXHUdsdfg5WVV3QS6OtCaXJ47fYzbctXjrG1NbDAizxACioft3di9rSMrq8HOCXBKmJbm41rNogWRIfnbUfj0ACGJ+/Uvp4THkkjCtyMW1IaW2bdlp5f2ysHASIDqLG1yWHB5DLgnTilyCpx2rXjK/AeWQ/PLf7dcEABfz05NLDo+tWqmPXBxpQS6uo4rXWX2/LKxtAUjG/BHJpYbHVq3SRy6O1C4XPT4HH/ylKcShYW0LQFIWDxjTokZLAKk4c+yD7+lrLJCLI7XLJXh2mOosnmgCgPW6ABCN+dljuc/dX+dkSuTiSM1ycc0OG7IC3wprWwCyMD977NQXbjVFEBtdZ76vWQZycaRmuQQvllQh3hMttLReFwCiM7+4UjWQ1MNjmp0238/sBHJxpFa5nDgaePiXzrv3hrUtAFnR/T6791MOj0ksnESZKTXKRUW+4L3DvMNhnJUPkJ3Fs19SDI+pgD9ELAK5OFKjXM48ea/ZAFcSsr3LYljbAlCExa35Yy2u1DCbnobmX3tdkIsjtckluIivNSkxwtoWgGLMF/f1lOE9+0VPQEOfVuZBLo7UJpfgIv7QbfStsLYFoCiLOyeLkAWWnqeVeZCLIzXJJXglvgrwMcK5LQDFmV+5P0NrUvQUsuqQMQ2lHfvMh276/VCQiyM1ySV4JX7o3mGLYW0LQHHUD1j9wwztRaZDvvREM0N7hK2zKHIoyMWRWuRy7JHAqccxivgK57YAVIP6A6ufyA1ycaQWuQQ9tehJI2QrfSts9wJQDaueXnKBXBypQS7B+4d5V+LPhyExgKqYX1hZCuTiSGm5BC+YjDX1WGFIDKA6FhdWlgC5OFJaLsFPLdr/K1YYEgOokvldk0uAXBwpLZfiTy0KQ2IAVaL+weo3coFcHCkpl+AZYjGfWhgSA6iakjPHkIsjJeUSNEMs9lMLQ2IAVVNy5hhycaSUXIKfWmLOEFMYEgOonlJPL8jFkVJyuXxuw2xEOxJzXYvCXmIATaD+wupHUoNcHCkhl+A9xGKtxp+FvcQAmsHacyw1yMWREnI5fzLwvJZYe4jNwvb6AM2gfsPqT1KCXBzJLZeDBwLPa1HhPWY4cRKgOdR/WP1KKpCLI7nlotPmrEazkhjntcyHEycBmiP3okrk4khuuQQtmnztc1MjRIzOgLGuBQDVkntRJXJxJKdcqlg0OYt1HQConpzTkpGLIznlEnSEcezpx4qG2KxrAUD1WEchpwK5OJJLLtUU8hWmIAM0Ta7CPnJxJJdcgnc/jl3IV1TDsa4FAE2Qq7CPXBzJJZcq9hFTNMRmXQsAmiHXfmPIxZEccjn0QOCQmIavYoddkAG6QP2K1d/EBLk4kkMuwWtbtPdX7FBvAegC9StWfxMT5OJIDrlUMySmUG8B6IIcQ2PIxZHUcqlqSIx6C0BXpB4aQy6OpJZLVUNirG8B6IrUQ2PIxZHUcqlqSExb9lvXA4AmST00hlwcSSmXqobElNcftq8HAM2ScmgMuTiSUi7BCyc1XThFONIYoDtSLqhELo6klEvQUcYiRTi/BaBLUh6BjFwcSSWX/Rt7zIawEm2FnyLaWdm6HgA0j/obqx/yglwcSSWX4O31dYhXirB4EqBbUm3Dj1wcSSWXM08GnpOfYgqyQjEfoFvU31j9kBfk4kgquQRNQVbBPVWs6wFAF6SakoxcHEkhl+CzW1LVWyjmA3RPijNekIsjKeRSXb2FnZABuidF3QW5OJJCLtXVW1iZD9A9KeouyMWRFHKprt6i4TbrmgDQDSnqLsjFkdhyCa63aDZXqrDNPsAoiF13QS6OxJbLkcN7zS99JRq6ShXregDQHep/rH4pFOTiSGy5VLefGDPFAEZD7H3GkIsjseXywlP3mV/6SiSBFOEMF4DRoP7H6pdCQS6OxJbL1RcrK+YzUwxgNKj/sfqlUJCLIzHlUmUxH7kAjIqYRX3k4khMuQQX87WpZKqwpxjAqIhZ1EcujsSUS3AxP9XKfIVpyACjImZRH7k4ElMu508GrsxX0T1VrOsBQLeoH7L6pxCQiyMx5RJ88uS130xNkCDW9QCgW2LOGEMujsSUi/VFr0WqMA0ZYJRY/VMIyMWRWHKpcqYYcgEYJbFmjCEXR2LJ5aEH7zK/5JWkOsNF0UQB65oA0DXqj6x+aijIxZFYcjlxNPAMl5R7irHGBWCUxDrbBbk4EksuVU5DRi4AoyTWdGTk4kgsuQQfEJZyGjILKOvmwt9OJs/9xWTynVsnk6c/cDP6c/29fs76fYAlxDo4DLk4EksuwRtWIpdx8fK+yeTZP59Mzvz+ZPLNW9ZHP6/f0+9brwswR6zpyMjFkVhyqXKNC3KpC8nhqd+15bEu+n29jvX6AFPUH1n91FCQiyOx5GJ9wWuRMtb1ID8a1jr7B7YsQtHrMVwGO2D1U0NBLo4gF0iKBOB9WlmGXhfBwBKsfmooyMWRGHKpcgGlYl0T8pFSLDMQDCwhxkJK5OJIDLkEL6BELv2SQywzEAwYxFhIiVwc6VYuv33VviakRzO6hs4G86LrMZMM5kAuhVNULim3fmFfsXKc/1NbAKnRda33A6MEuRRODLkEr85PufULcinDS3faHX8udH3rfcHoiLFKH7k4glwgKlpVb3X6udD1rfcFowO5FA5ygWio5mF1+Lmh9gJbIJfCQS4Qjf/6K7uzz43eh/X+YFQgl8JBLhCN0kNiMxgagy2QS+EgF4hG7C1eQtH7sN4fjArkUjjIBaJhdfSlsN4fjArkUjjIBaJhdfKlsN4fjArkUjhF5fKrp6cmSBDkkh+rky+F9f5gVCCXwikql5RHHCOX/FidfCms9wejArkUTlG5MCzWF1YnXwrr/cGoQC6Fg1wgGrl2QV6F3of1/mBUIJfCQS4Qjac/YHf2udH7sN4fjArkUjjIBaKhs+2tzj43nLEPWyCXwkEuEA0d2GV19rnh4DDYArkUDnKBqOQ+JGwRXd96XzA6kEvhIBeISunNK9m0EqYgl8KJIZdjj9xtfrkrefPxqQkShGOOy1Hq6YWnFphD/ZLVXw0BuTgSQy5VnqGvWNeE9Pzob+zOPzW6rvV+YJRwzHHhIBdIQu5z9JkhBgsgl8JBLpCMXOe7cH4LGCCXwokhF2F9uSu58qmpBRLFuibkJbVgEAssweqnhoJcHCkqF5EyejKyrgl5SSUYDb1Z1wPYwuqnhoJcHIkll6svbppf8EpSBrnUww8/Gm/vMb2OXs+6DsAW6o+sfmooyMWRWHJ54an7zC95JZoynCrIpS5e3ne98B4qGf2efl+vY70+wBT1R1Y/NRTk4khxuWixY6pokaZ1TSiL5KDFjuc+uFo0+nv9nH4eqcCaIJcKEksuwav0U55GiVza4KU7r69RWUR/bv08wApirM4XyMWR4nJJuQWMTrq0rgkAXYNcKkgsuRw5vNf8klfy8y9NTZAg7C8GMErUH1n91FCQiyOx5FLlQkrkAjBKYiygFMjFkVhyEdaXvBIWUgJAZKz+KQTk4khMuVS51sW6HgB0yxvPxVnjIpCLIzHlUuVal9c+Z18TALok1jRkgVwciSmXU48FrkO4+t2pCRKEhZQAo0L9kNU/hYBcHIkplxNHAw8NSzkdmbUuAKNC/ZDVP4WAXByJKZfgGWM/Ozo1QYIgF4BREWummEAujsSUi7C+7JWknDHGdGSAUWH1S6EgF0diy+XyuQ3zC19JqnCWPsBoUP9j9UuhIBdHYsvlzJP3ml/6SlJuYGldDwC6Q/2P1S+FglwciS2X4KK+9gFLFaYjA4yCmMV8gVwciS2X4KJ+yj3GNGHAuiYAdEXMYr5ALo7ElouwvvSVpCzqM2MMYBRY/ZEH5OJICrkEr9S/9pupDSJHizSt6wFAN8RcmT8DuTiSQi7BZ7ukWqnPjDGA7ol1hss8yMWRFHIJrru8+fjUBgliXQ8AuiF2vUUgF0dSyEVYX/5KNKsrVdhjDKBrrH7IC3JxJJVcqqu76KnIuh4ANE+KeotALo6kkkt1dZdfPW1fDwCaJ0W9RSAXR1LJ5dADd5qNYCWp1rtQ1AfoFvU3Vj/kBbk4kkouIuhkypTrXazrAUDTqJ+x+p8YIBdHUsoleJ+xd34xtUHkUNQH6I7Y+4nNg1wcSSmXY49Uts8YK/UBukP9jNX/xAC5OJJSLvs39piNYSV6wkgRVuoDdIf6Gav/iQFycSSlXMT5k4FDYymmJOs1rWsBQJOof7H6nVggF0dSyyV4aExTh1NEEwas6wFAc6QcEhPIxZHUcgkeGkt1rr6mOlvXA4DmSDkkJpCLI6nlIqoaGmMxJUAXpB4SE8jFkRxyqWpoTNOcrWsBQFOkHhITyMWRHHKpbtYYdReA5kk9JCaQiyM55CKCh8ZSLKik7gLQNDmGxARycSSXXI4c3ms2kpWkWFDJeheAplF/YvUzsUEujuSSi6hmrzHWuwA0S8q9xBZBLo7klMupx/aZjWUlb1+YWiFidDCZdS0AqBr1I1b/kgLk4khOuRw8UNE2/OwzBtAk6kes/iUFyMWRnHIR1ZxQyfkuAM2R6sTJZSAXR3LLparC/k8O2tcCgCrJVcifgVwcyS0X8cZzlRT2mZIM0AzqN6z+JCXIxZEScgk+Xz/2in22ggFohlTn5O8EcnGkhFy0sjZoWnLsFftMSQZoAvUXOVbkL4JcHCkhFxF8BHLsacnafdm6DgBUQ8qjjHcCuThSSi7B05JjP71oooB1HQCohpzTj+dBLo6UkosIfnqJud8YuyQDVE2ppxaBXBwpKZdqFlWyWh+gWko9tQjk4khJuYjgRZUxn14YGgOoktyLJhdBLo6UlstDD95lNqqVxDwGmaExgCpR/2D1G7lALo6UlosIfnqJOXOMoTGAqij91CKQiyM1yOXQAxXMHGNoDKAqStZaZiAXR2qQiyi+7oWhMYBqKDlDbB7k4kgtcgmeORZzzzGGxgCqoIanFoFcHKlFLiL4MLFYOyaz1xhAcXIeBrYK5OJITXIJ3nNMW+fHOO+FvcYAilJqD7FlIBdHapKLCN4xOdbCSvYaAyhGiZ2PdwK5OFKbXETQeS8iRnGfoTGAIpQ4r2UVyMWRGuUSfFqlCvIxwgmVANkpvWDSArk4UqNcRPDCyre+MTWEI5xQCZCVGhZMWiAXR2qVi6YiBhX3xW9fnVoiMBpes14XAKKj+7yWqceLIBdHapWLCC7uxxge0/oZ67UBICq1FfHnQS6O1CwXcfnchtkgV+IdHtPvW68LANHQ/W3d97WAXBypXS7BuyYLz+wxtoMBSE6NRfx5kIsjtctFBK/c19CWZ3GlNsa0XhcA3NS0En8ZyMWRFuSiFbvBa188576w5gUgCbqfa1qJvwzk4kgLchGu4bHQ+oueeljzAhCd2ofDZiAXR1qRiwiePSaufndqjIFhzQtAVGqeHbYIcnGkJbmI4NljegIJWf8iKVmvBwCDqX122CLIxZHW5KJTK4MXV4YW+FnzAuBG963uX+u+rhXk4khrchEnjt5tNt610ALLoYJ583H7tQBgbY49crd5P9cMcnGkRbmI8ycDj0UWQ1fwazjNeh0AWAvdr9Z9XDvIxZFW5eKaniyGnv/C0BhAEK1MO7ZALo60Khfhqr+IIYJhaAxgMC3WWeZBLo60LBehcVyrUa+NVuGvU4Nh1hjAYFqss8yDXBxpXS7izJOO+otYp8ivv7d+FwBMdF9a92tLIBdHepCLCF7/MmOddTCs1gdYi9bWsywDuTjSi1zcBf4ZO20Vw0aWACtpuYC/CHJxpBe5CHeBf4aGyazt+nlyAdiR1gv4iyAXR3qSizhyeK/Z6IOQZPQkI7S7svUzAPAuuv+s+7JVkIsjvclFuGeQAcBgWp8ZZoFcHOlRLiL4gDEAGEwLB3+FgFwc6VUuwj1FGQBW0sOU42UgF0d6lotAMADp6FksArk40rtcNCXSvQYGAG5C91UvU46XgVwc6V0uAsEAxGUMYhHIxZExyEUgGIA4jEUsArk4Mha5CAQD4GNMYhHIxZExyUUgGIAwxiYWgVwcGZtcBIIBGMYYxSKQiyNjlItAMADrMVaxCOTiyFjlInTDuM7iB+gc3R9jFYtALo6MWS4zWGgJcDO9L5BcB+TiCHK5DoIBuAFiuQ5ycQS53IDdlAH63N04FOTiCHJ5L7qxohw4BtAYaveI5b0gF0eQy81EO9ESoBF6O0EyFsjFEeRiw1RlGAtjnmq8CuTiCHJZjm44Cv3QM2rfiGU5yMUR5LKaE0cp9EN/qF1b7R1ugFwcQS7rQR0GeoH6yvogF0eQy/po+OCFp+4zb1iAFlD7ZRhsfZCLI8hlOE8cv8e8cQFqRu3Was+wHOTiCHIJQ8MKbzzHMBnUj9opw2BhIBdHkEs4Gl449dg+84YGqAG1T4bBwkEujiAXP0cO76XYD1Wh9qh2abVXWB/k4ghyiYP+75Dt+6EGxr5NfkyQiyPIJS76v0VqMVACtTueVuKCXBxBLvGhFgO5obaSBuTiCHJJh2bosD8ZpETti5lg6UAujiCX9GibDQr+EBO1J7bHTw9ycQS55IGhMogFQ2D5QC6OIJe8HDxwJ7PKIAi1G7Ufq11BGpCLI8ilDA89eBf7lMFaqJ2ovVjtCNKCXBxBLmVRp0HRHyzULpBKWZCLI8ilDlScZX0MCLUDivV1gFwcQS51oUVwDJeNE33vLIKsC+TiCHKpE2oy44GaSr0gF0eQS91odhDn+PeJvldmf9UNcnEEubSB1jVoMSZ1mbbR96fvkXUqbYBcHEEu7aFxedbKtIW+L+op7YFcHEEu7aIhFZ5m6mX2lMLQV7sgF0eQSx9o80JtC4JoyqLPX98Dm0n2AXJxBLn0B6LJC0LpF+TiCHLpm5lo2AUgLvo8EUr/IBdHkMt40Ni/Vn6ruMwRAMPQ56XPTZ8fNZTxgFwcQS7jRf/XrYIzsrmZmUz0+fB0Ml6QiyPIBWbMZKPFfWMbRtO/V/9uZALzIBdHkAvshLYlmQmnl+1o9O+YiYRtV2AnkIsjyAWGoprDTDpPHL9nu7MWtQyt6X3o/WhYS+9vJhFWxcNQkIsjyAViM5PPvICEZlfNRORBrzN7zZk4BIV2iA1ycQS5AADYIBdHkAsAgA1ycQS5AADYIBdHkAsAgA1ycQS5AADYIBdHkAsAgA1ycQS5AADYIBdHbr/99v3WhwoAMHbUP067SjI0u3bter/1oQIAjB31j9OukoRk60M8vfihAgCMnNPTLpKEZvfu3bcZHywAwGhRvzjtIoknWx/kcesDBgAYG+oPp10j8UZji1sf6PPWBw0AMBbUD1JriRwEAwBjBrEkjD7YrQ+ZAj8AjI3TiCVDputfrix8+AAAvXGF9SwFsmfPno9sPSo+uvXhnwMA6AX1a+rfpl0dIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEjDa33PL/7f4QX/AB+jUAAAAASUVORK5CYII=\"","import { AppBar, Toolbar, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport * as React from \"react\";\n\nconst useStyles = () =>\n  makeStyles((theme) => ({\n    navbarDisplayFlex: {\n      display: `flex`,\n      justifyContent: `space-between`,\n    },\n    navDisplayFlex: {\n      display: `flex-right`,\n      justifyContent: `space-between`,\n    },\n    linkText: {\n      textDecoration: `none`,\n      textTransform: `uppercase`,\n      color: `white`,\n    },\n    appBar: {\n      zIndex: theme.zIndex.drawer + 1,\n    },\n  }))();\n\nconst Header = () => {\n  const classes = useStyles();\n  return (\n    <AppBar position=\"static\" className={classes.appBar}>\n      <Toolbar>\n        <Typography variant=\"h6\">SensiML Gateway</Typography>\n      </Toolbar>\n    </AppBar>\n  );\n};\nexport default Header;\n","import React from \"react\";\n\nimport { Button, Grid, Typography } from \"@material-ui/core\";\nimport { green, grey } from \"@material-ui/core/colors\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\n\nimport AssessmentIcon from \"@material-ui/icons/Assessment\";\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport SportsEsportsOutlinedIcon from '@material-ui/icons/SportsEsportsOutlined';\n\n\nimport Divider from \"@material-ui/core/Divider\";\nimport FiberManualRecordIcon from \"@material-ui/icons/FiberManualRecord\";\nimport { Update } from \"@material-ui/icons\";\nimport { connect } from \"react-redux\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerContainer: {\n    overflow: \"auto\",\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n\n  section1: {\n    margin: theme.spacing(2, 1),\n  },\n  update_available_button: {\n    color: \"primary\",\n    borderColor: \"primary\",\n    variant: \"outlined\",\n  },\n  no_update_available_button: {\n    visibility: `hidden`,\n  },\n}));\n\nconst InconSelector = (props) => {\n  switch (props.index) {\n    case 0:\n      return <HomeIcon />;\n    case 1:\n      return <AssessmentIcon />;\n    case 2:\n      return <SportsEsportsOutlinedIcon />;\n    default:\n      return <InboxIcon />;\n  }\n};\n\nconst Connected = (props) => {\n  return (\n    <Grid>\n      {props.isConnected ? (\n        <Typography>\n          {\" \"}\n          <FiberManualRecordIcon\n            style={{ fontSize: 16, color: green[500] }}\n          ></FiberManualRecordIcon>{\" \"}\n          Connected{\" \"}\n        </Typography>\n      ) : (\n        <Typography>\n          {\" \"}\n          <FiberManualRecordIcon style={{ fontSize: 16, color: grey[500] }}>\n            {\" \"}\n          </FiberManualRecordIcon>{\" \"}\n          Not Connected{\" \"}\n        </Typography>\n      )}\n    </Grid>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  localVersion: state.versionData.localVersion,\n  cloudVersion: state.versionData.cloudVersion,\n  updateAvailable: state.versionData.updateAvailable,\n});\n\nfunction updateClicked() {\n  window.open(\"https://github.com/sensiml/open-gateway/releases\", \"_blank\");\n}\n\nconst NavBar = (props) => {\n  const classes = useStyles();\n  console.log(props);\n\n  const handleMenu = (viewId) => (event) => {\n    props.onChange(viewId);\n  };\n  return (\n    <Drawer\n      className={classes.drawer}\n      variant=\"permanent\"\n      classes={{\n        paper: classes.drawerPaper,\n      }}\n    >\n      <Toolbar />\n      <div className={classes.drawerContainer}>\n        <List>\n          {[\"Home\", \"Test Mode\", \"Game Mode\"].map((text, index) => (\n            <ListItem button key={text} onClick={handleMenu(index)}>\n              <ListItemIcon>\n                <InconSelector index={index}> </InconSelector>\n              </ListItemIcon>\n              <ListItemText primary={text} />\n            </ListItem>\n          ))}\n          <div className={classes.section1}>\n            <Divider></Divider>\n          </div>\n          <ListItem>\n            <Typography color=\"primary\">Device Status</Typography>\n          </ListItem>\n          <ListItem>\n            <Connected\n              text=\"Device\"\n              isConnected={props.isConnected}\n            ></Connected>\n          </ListItem>\n          <ListItem>\n            <Typography color=\"primary\">Video Status</Typography>\n          </ListItem>\n          <ListItem>\n            <Connected\n              text=\"Video\"\n              isConnected={props.isCameraConnected}\n            ></Connected>\n          </ListItem>\n          <ListItem>\n            <Typography color=\"primary\">Version</Typography>\n          </ListItem>\n          <ListItem>\n            <Typography color=\"black\">{props.localVersion}</Typography>\n          </ListItem>\n          <ListItem>\n            <Button\n              aria-multiline={true}\n              startIcon={<Update />}\n              onClick={updateClicked}\n              className={\n                props.updateAvailable\n                  ? classes.update_available_button\n                  : classes.no_update_available_button\n              }\n            >\n              Update Available: {props.cloudVersion}\n            </Button>\n          </ListItem>\n        </List>\n      </div>\n    </Drawer>\n  );\n};\nconst nb = connect(mapStateToProps)(NavBar);\nexport default nb;\n","import { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = () =>\n  makeStyles((theme) => ({\n    root: {\n      display: \"flex\",\n    },\n    toolbar: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"flex-end\",\n      padding: theme.spacing(0, 1),\n      ...theme.mixins.toolbar,\n    },\n    content: {\n      flexGrow: 1,\n      width: \"100%\",\n      padding: theme.spacing(5, 5, 5, 35),\n      justifyContent: \"flex-end\",\n    },\n  }))();\n\nexport default useStyles;\n","import { Grid } from \"@material-ui/core\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport React from \"react\";\n\nconst useStyles = makeStyles({\n  root: {\n    minWidth: 275,\n  },\n  bullet: {\n    transform: \"scale(1.0)\",\n  },\n  title: {\n    fontSize: 20,\n    backgroundColor: \"#e0e0e0\",\n  },\n  pos: {\n    marginBottom: 2,\n    marginTop: 2,\n  },\n});\n\nconst SimpleCard = (props) => {\n  const classes = useStyles();\n  return (\n    <Grid item xs={props.xs}>\n      <Typography align=\"center\" className={classes.title} color=\"textPrimary\">\n        {props.name}\n      </Typography>\n      {props.list ? (\n        <div className={classes.bullet}>\n          <List dense={true}>\n            {props.value.split(\",\").map((value) => (\n              <ListItem>\n                <ListItemText align=\"center\" primary={value} />\n              </ListItem>\n            ))}\n          </List>\n        </div>\n      ) : (\n        <Typography\n          align=\"center\"\n          className={classes.pos}\n          color=\"textSecondary\"\n        >\n          {props.value}\n        </Typography>\n      )}\n    </Grid>\n  );\n};\n\nexport default SimpleCard;\n","import { Grid } from \"@material-ui/core\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport { SimpleCard } from \"../SimpleCard\";\n\nconst Status = (props) => {\n  return (\n    <Grid container rows spacing={4}>\n      <Grid item xs={12} container rows spacing={2}>\n        <SimpleCard name=\"Mode\" xs=\"6\" value={props.config.mode}></SimpleCard>\n        <SimpleCard\n          name=\"Source\"\n          xs=\"6\"\n          value={props.config.source}\n        ></SimpleCard>\n      </Grid>\n      <Grid item xs={12} container rows spacing={2}>\n        <SimpleCard\n          name=\"Device ID\"\n          xs={6}\n          value={props.config.device_id}\n        ></SimpleCard>\n        {props.config.mode === \"data_capture\" ? (\n          <SimpleCard\n            xs=\"6\"\n            name=\"Sample Rate\"\n            value={props.config.sample_rate}\n          ></SimpleCard>\n        ) : null}\n      </Grid>\n      <Grid item xs={12}>\n        {props.config.mode === \"data_capture\" ? (\n          <SimpleCard\n            name=\"Sensor Columns\"\n            value={props.config.column_location}\n            list={true}\n          ></SimpleCard>\n        ) : null}\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Status;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport axios from \"axios\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { DialogContentText } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  formControl: {\n    margin: theme.spacing(3),\n    minWidth: 600,\n  },\n  button: {\n    margin: theme.spacing(1, 1, 0, 0),\n  },\n  section1: {\n    margin: theme.spacing(1, 1),\n  },\n}));\n\nexport default function AlertDialog(props) {\n  const [open, setOpen] = React.useState(false);\n  const [scanning, setIsScanning] = React.useState(false);\n  const [deviceRows, setDeviceRows] = React.useState([]);\n  const [scanHelperText, setScanHelperText] = React.useState(\"\");\n  const [error, setError] = React.useState(false);\n  const classes = useStyles();\n  const [scanningText, setScanningText] = React.useState(\"Scanning\");\n\n  let deviceColumns = [\n    { field: \"id\", headerName: \"ID\", width: 0 },\n    { field: \"device_id\", headerName: \"Device ID\", width: 240 },\n    { field: \"name\", headerName: \"Name\", width: 240 },\n  ];\n\n  const handleClickOpen = (event) => {\n    setDeviceRows([]);\n    setOpen(true);\n    event.preventDefault();\n    handleDeviceScan();\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleDeviceScan = () => {\n    setScanningText(\"Scanning for \" + props.source + \" Devices....\");\n    setIsScanning(true);\n    axios\n      .post(`${process.env.REACT_APP_API_URL}scan`, {\n        source: props.source.toLowerCase(),\n      })\n      .then((response) => {\n        console.log(response.data);\n        setIsScanning(false);\n        setDeviceRows(response.data);\n        setScanningText(\"Scanning complete\");\n      })\n      .catch(function (error) {\n        setIsScanning(false);\n        if (error.response) {\n          // Request made and server responded\n          setScanHelperText(error.response.data.detail.join(\", \"));\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          // The request was made but no response was received\n          console.log(error.request);\n        } else {\n          // Something happened in setting up the request that triggered an Error\n          console.log(\"Error\", error.detail);\n        }\n      });\n  };\n\n  return (\n    <div>\n      <Button\n        variant=\"outlined\"\n        color=\"primary\"\n        disabled={props.configuring}\n        fullWidth={true}\n        onClick={handleClickOpen}\n        className={classes.button}\n      >\n        Scan for {props.source} Devices\n      </Button>\n      <Dialog open={open} onClose={handleClose} fullWidth=\"sm\" maxWidth=\"sm\">\n        <DialogContent>\n          <DialogContentText>{scanningText}</DialogContentText>\n\n          <div style={{ height: 600, width: \"100%\" }}>\n            <DataGrid\n              rows={deviceRows}\n              columns={deviceColumns}\n              onRowClick={props.handleRowSelection}\n\n            />\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\" autoFocus>\n            select\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n","import React from \"react\";\nimport {\n  Box,\n} from \"@material-ui/core\";\n\n\nconst Camera = ({ cameraKey, classes, isCameraConnected }) => {\n  return (\n    <Box className={classes.cameraViewWrapper}>\n    { isCameraConnected ?\n      <img\n        src={`http://localhost:5555/stream-video?${cameraKey}`}\n        alt=\"Camera\"\n      />\n      : \"Video Source is not connected\"\n    }\n    </Box>\n  );\n};\n\nexport default Camera;\n","import _ from \"lodash\";\nimport React, { useEffect, useCallback } from \"react\";\nimport {\n  Button,\n  Tooltip,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n  Grid,\n  FormHelperText,\n  IconButton,\n  Typography,\n  Box,\n} from \"@material-ui/core\";\nimport Divider from \"@material-ui/core/Divider\";\nimport CachedIcon from \"@material-ui/icons/Cached\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport axios from \"axios\";\nimport Camera from \"./Camera\";\n\nconst SOURCE_SCREEN_INDEX = -1;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  details: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  content: {\n    flex: \"1 0 auto\",\n  },\n  controls: {\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n  },\n  section1: {\n    margin: theme.spacing(2, 0, 3, 0),\n  },\n  section2: {\n    margin: theme.spacing(2),\n    textAlign: \"center\",\n  },\n  divWrapper: {\n    margin: theme.spacing(3),\n    padding: theme.spacing(2, 2, 2, 2),\n    maxWidth: 800,\n    minHeight: 800,\n  },\n  selectWrapper: {\n    height: \"3.25rem\",\n  },\n  selectSource: {\n    width: \"100%\",\n  },\n  selectLoading: {\n    lineHeight: 3.25,\n  },\n  cameraViewWrapper: {\n    minHeight: \"480px\",\n    minWidth: \"640px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst handleCameraRequest = (\n  event,\n  setCameraView,\n  setIsCameraConnected,\n  setCameraKey,\n  indexSource\n) => {\n  console.log(event);\n\n  axios\n    .post(`${process.env.REACT_APP_API_URL}config-video`, {\n      camera_index: indexSource,\n      event_type: event,\n    })\n    .then((response) => {\n      console.log(response.data);\n      if (event === \"camera-on\") {\n        setCameraView(true);\n        setIsCameraConnected(true);\n        setCameraKey(Math.random().toString(36).substring(7));\n        console.log(\"caera event\");\n        console.log(event);\n      }\n      if (event === \"camera-off\") {\n        setCameraView(false);\n        setIsCameraConnected(false);\n        console.log(\"caera event\");\n        console.log(event);\n      }\n    });\n};\n\nconst WebCamera = (props) => {\n  const classes = useStyles();\n  const [cameraView, setCameraView] = React.useState(false);\n  const [cameraKey, setCameraKey] = React.useState(\"\");\n  const [videoSourceList, setVideoSourceList] = React.useState([]);\n  const [videoSource, setVideoSource] = React.useState(SOURCE_SCREEN_INDEX - 1);\n  const [videoSourceLoading, setVideoSourceLoading] = React.useState(false);\n  const [videoSourceLoadError, setVideoSourceLoadError] = React.useState(\"\");\n\n  const loadVideoSource = async () => {\n    setVideoSourceLoadError(\"\");\n    setVideoSourceLoading(true);\n    try {\n      const response = await axios.get(\n        `${process.env.REACT_APP_API_URL}scan-video`,\n        {}\n      );\n      const { video_sources } = response.data;\n      if (!_.isEmpty(video_sources) && _.isArray(video_sources)) {\n        const mainSource = video_sources.find((el) => el.index === 0);\n        setVideoSourceList(video_sources);\n        setVideoSource(mainSource.index);\n      }\n    } catch (e) {\n      setVideoSourceLoadError(\n        \"Failed to load video sources, please, try again\"\n      );\n    }\n    setVideoSourceLoading(false);\n  };\n\n  useEffect(() => {\n    loadVideoSource();\n  }, []);\n\n  const getVideoSourceName = useCallback(() => {\n    // useCallback\n    const name = \"Camera\";\n    if (!_.isEmpty(videoSourceList) && _.isArray(videoSourceList)) {\n      return (\n        videoSourceList.find((el) => el.index === videoSource)?.name || name\n      );\n    }\n    return name;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [videoSource]);\n\n  const handleUpdateVideoSourceList = () => {\n    loadVideoSource();\n  };\n\n  const handleCameraSourceSelect = (e) => {\n    setVideoSource(e.target.value);\n  };\n\n  return (\n    <div>\n      <div className={classes.section1}>\n        <Typography component=\"h3\" variant=\"h3\" color=\"secondary\">\n          Video Source\n        </Typography>\n      </div>\n      <div className={classes.section1}>\n        <Divider variant=\"middle\" />\n      </div>\n\n      <Camera\n        classes={classes}\n        cameraKey={cameraKey}\n        isCameraConnected={props.isCameraConnected}\n      ></Camera>\n      <div className={classes.section2}>\n        <Typography variant=\"subtitle1\" color=\"textSecondary\"></Typography>\n      </div>\n\n      <div className={classes.details}>\n        <Grid container rows spacing={2}>\n          <Grid item xs={12}>\n            <Box\n              className={classes.selectWrapper}\n              display=\"flex\"\n              alignItems=\"center\"\n              justifyContent=\"center\"\n            >\n              {videoSourceLoadError ? (\n                <Typography color=\"error\"> {videoSourceLoadError} </Typography>\n              ) : videoSourceLoading ? (\n                <Box className={classes.selectLoading}>{\"Loading...\"}</Box>\n              ) : (\n                <>\n                  <FormControl\n                    className={classes.selectSource}\n                    variant=\"standard\"\n                    sx={{ m: 1, minWidth: 120 }}\n                  >\n                    <InputLabel id=\"video_sources_select_label\">\n                      Video Source\n                    </InputLabel>\n                    <Select\n                      labelId=\"video_sources_select_label\"\n                      id=\"video_sources_select\"\n                      value={videoSource}\n                      onChange={handleCameraSourceSelect}\n                      label=\"Video source\"\n                      disabled={props.isCameraConnected !== false}\n                    >\n                      {videoSourceList.map((sourceCam) => (\n                        <MenuItem\n                          value={sourceCam.index}\n                          key={`source_select_${sourceCam.index}`}\n                        >\n                          {sourceCam.name}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                    {props.isCameraConnected !== false ? (\n                      <FormHelperText id=\"my-helper-text\">\n                        To change souce, first disconnect {getVideoSourceName()}\n                      </FormHelperText>\n                    ) : null}\n                  </FormControl>\n                  <Tooltip title=\"Reload video sources\">\n                    <IconButton\n                      aria-label=\"delete\"\n                      size=\"large\"\n                      color=\"primary\"\n                      disabled={props.isCameraConnected !== false}\n                      onClick={handleUpdateVideoSourceList}\n                    >\n                      <CachedIcon fontSize=\"inherit\" />\n                    </IconButton>\n                  </Tooltip>\n                </>\n              )}\n            </Box>\n          </Grid>\n          <Grid item xs={12}>\n            {props.isCameraConnected === false ? (\n              <Button\n                aria-label=\"Start Camera\"\n                variant=\"contained\"\n                color=\"primary\"\n                fullWidth={true}\n                disabled={Boolean(videoSource < SOURCE_SCREEN_INDEX)}\n                onClick={() => {\n                  handleCameraRequest(\n                    \"camera-on\",\n                    setCameraView,\n                    props.setIsCameraConnected,\n                    setCameraKey,\n                    videoSource\n                  );\n                }}\n              >\n                Connect to {getVideoSourceName()}\n              </Button>\n            ) : (\n              <Button\n                aria-label=\"Stop Camera\"\n                color=\"primary\"\n                variant=\"contained\"\n                fullWidth={true}\n                onClick={() => {\n                  handleCameraRequest(\n                    \"camera-off\",\n                    setCameraView,\n                    props.setIsCameraConnected,\n                    setCameraKey,\n                    videoSource\n                  );\n                }}\n              >\n                Disconnect {getVideoSourceName()}\n              </Button>\n            )}\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default WebCamera;\n","import { Grid, Typography, Divider } from \"@material-ui/core\";\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport axios from \"axios\";\nimport React, { useEffect } from \"react\";\nimport { Status } from \"../Status\";\nimport Scan from \"./Scan\";\nimport { WebCamera } from \"../WebCamera\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  formControl: {\n    margin: theme.spacing(3),\n    minWidth: 600,\n  },\n  divWrapper: {\n    margin: theme.spacing(3),\n    padding: theme.spacing(2, 2, 2, 2),\n    maxWidth: 700,\n    minWidth: 600,\n  },\n  button: {\n    margin: theme.spacing(1, 1, 0, 0),\n  },\n  section1: {\n    margin: theme.spacing(2, 0, 1, 0),\n  },\n}));\n\nconst Configure = (props) => {\n  const classes = useStyles();\n  const [source, setSource] = React.useState(\n    props.streamingSource ? props.streamingSource : \"SERIAL\"\n  );\n\n  const [mode, setMode] = React.useState(\n    props.streamingMode === \"recognition\" ? \"RECOGNITION\" : \"DATA_CAPTURE\"\n  );\n  const [deviceID, setDeviceID] = React.useState(props.deviceID);\n  const [error, setError] = React.useState(false);\n\n  const [helperText, setHelperText] = React.useState(\"\");\n\n  const [configuring, setIsConfiguring] = React.useState(false);\n\n  const handleRadioChange = (event) => {\n    console.log(\"handle radio\");\n    setSource(event.target.value);\n  };\n\n  const handleDeviceBaudRate = (event) => {\n    console.log(\"handle radio\");\n    props.setBaudRate(event.target.value);\n  };\n\n  const handleModeChange = (event) => {\n    console.log(\"handle mode\");\n    setMode(event.target.value);\n  };\n\n  const handleDeviceIDChange = (event) => {\n    console.log(\"handle device id\");\n    setDeviceID(event.target.value);\n    setHelperText(\" \");\n    setError(false);\n  };\n\n  const handleRowSelection = (event) => {\n    console.log(event.row.device_id);\n    setDeviceID(event.row.device_id);\n  };\n\n  const handleSubmit = (event) => {\n    setIsConfiguring(true);\n    event.preventDefault();\n    if (deviceID === \"\") {\n      setHelperText(\"Must Set DeviceID\");\n      setIsConfiguring(false);\n      return;\n    }\n    console.log(source);\n    console.log(deviceID);\n    let data = {\n      device_id: deviceID,\n      source: source.toLowerCase(),\n      mode: mode,\n    };\n    if (source === \"SERIAL\") {\n      data.baud_rate = props.baudRate;\n    }\n    axios\n      .post(`${process.env.REACT_APP_API_URL}config`, data)\n      .then((response) => {\n        mapdata(response.data);\n        if (response.data.streaming === false) {\n          setHelperText(\n            \"Error starting device, check the logs in the terminal for details for additional details\"\n          );\n        } else {\n          setHelperText(\"Device Connected\");\n        }\n        setIsConfiguring(false);\n      })\n      .catch(function (error) {\n        setIsConfiguring(false);\n        if (error.response) {\n          setHelperText(error.response.data.detail.join(\", \"));\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          // The request was made but no response was received\n          console.log(error.request);\n        } else {\n          // Something happened in setting up the request that triggered an Error\n          console.log(\"Error\", error.detail);\n          setHelperText(error.response.data.detail.join(\", \"));\n        }\n      });\n  };\n\n  const handleDisconnectRequest = (event) => {\n    axios.get(`${process.env.REACT_APP_API_URL}disconnect`).then((res) => {\n      console.log(res.data);\n      mapdata(res.data);\n    });\n  };\n\n  function mapdata(data) {\n    if (data.mode) {\n      props.setStreamingMode(data.mode);\n    }\n    props.setIsConnected(data.streaming);\n    props.setColumns(Object.keys(data.column_location).sort());\n    props.setStreamingSource(data.source);\n    props.setDeviceID(data.device_id);\n    props.setIsCameraConnected(data.camera_on);\n    props.setBaudRate(data.baud_rate);\n    data.column_location =\n      \"column_location\" in data\n        ? Object.keys(data.column_location).sort().join(\", \")\n        : [];\n\n    props.setConfig(data);\n  }\n\n  useEffect(() => {\n    setDeviceID(props.deviceID);\n    setSource(props.streamingSource);\n    setMode(props.streamingMode.toUpperCase());\n  }, [props.deviceID, props.streamingMode]);\n\n  return (\n    <Grid container columns>\n      <Grid item>\n        <Card className={classes.divWrapper}>\n          <CardContent>\n            <div className={classes.section1}>\n              <Typography component=\"h3\" variant=\"h3\" color=\"secondary\">\n                Device Source\n              </Typography>\n            </div>\n\n            <div className={classes.section1}>\n              <Divider variant=\"middle\" />\n            </div>\n            {props.isConnected ? (\n              <React.Fragment>\n                <Status\n                  setStreamingMode={props.setStreamingMode}\n                  setColumns={props.setColumns}\n                  setStreamingSource={props.setStreamingSource}\n                  setDeviceID={props.setDeviceID}\n                  setIsConnected={props.setIsConnected}\n                  isConnected={props.isConnected}\n                  setIsCameraConnected={props.setIsCameraConnected}\n                  isCameraConnected={props.isCameraConnected}\n                  config={props.config}\n                />\n                <Button\n                  type=\"submit\"\n                  variant=\"contained\"\n                  color=\"primary\"\n                  disabled={configuring}\n                  fullWidth={true}\n                  className={classes.button}\n                  onClick={handleDisconnectRequest}\n                >\n                  Disconnect Device\n                </Button>\n              </React.Fragment>\n            ) : (\n              <React.Fragment>\n                <form onSubmit={handleSubmit}>\n                  <FormControl\n                    component=\"fieldset\"\n                    disabled={configuring || props.isConnected}\n                    error={error}\n                    className={classes.formControl}\n                  >\n                    <div>\n                      <FormLabel component=\"legend\">Device Mode:</FormLabel>\n                      <RadioGroup\n                        aria-label=\"mode\"\n                        name=\"Streaming Source\"\n                        value={mode}\n                        onChange={handleModeChange}\n                        row\n                      >\n                        <FormControlLabel\n                          value=\"DATA_CAPTURE\"\n                          control={<Radio />}\n                          label=\"Data Capture\"\n                        />\n                        <FormControlLabel\n                          value=\"RECOGNITION\"\n                          control={<Radio />}\n                          label=\"Recognition\"\n                        />\n                      </RadioGroup>\n                    </div>\n                    <div className={classes.section1}></div>\n                    <div>\n                      <FormLabel>Connection Type</FormLabel>\n                      <RadioGroup\n                        aria-label=\"source\"\n                        value={source}\n                        onChange={handleRadioChange}\n                        row\n                      >\n                        <FormControlLabel\n                          value=\"SERIAL\"\n                          control={<Radio />}\n                          label=\"Serial\"\n                        />\n                        <FormControlLabel\n                          value=\"BLE\"\n                          control={<Radio />}\n                          label=\"BLE\"\n                        />\n                        <FormControlLabel\n                          value=\"TCPIP\"\n                          control={<Radio />}\n                          label=\"TCP/IP\"\n                        />\n                        <FormControlLabel\n                          value=\"TEST\"\n                          control={<Radio />}\n                          label=\"Test\"\n                        />\n                      </RadioGroup>\n                    </div>\n\n                    <Scan\n                      source={source}\n                      handleRowSelection={handleRowSelection}\n                      configuring={configuring}\n                    />\n\n                    <div className={classes.section1}></div>\n\n                    <div>\n                      <FormLabel component=\"legend\">Device ID:</FormLabel>\n                      <TextField\n                        id=\"outlined-basic\"\n                        variant=\"outlined\"\n                        value={deviceID}\n                        onChange={handleDeviceIDChange}\n                        fullWidth={true}\n                      />\n                    </div>\n\n                    <div className={classes.section1}></div>\n\n                    {source === \"SERIAL\" ? (\n                      <div>\n                        <FormLabel component=\"legend\">Baud Rate:</FormLabel>\n                        <TextField\n                          id=\"outlined-basic\"\n                          variant=\"outlined\"\n                          value={props.baudRate}\n                          onChange={handleDeviceBaudRate}\n                          fullWidth={true}\n                        />\n                      </div>\n                    ) : (\n                      <div />\n                    )}\n\n                    <div className={classes.section1}></div>\n                    <div>\n                      <Grid container columns spacing={2}>\n                        <Grid item xs={12}>\n                          <Button\n                            type=\"submit\"\n                            variant=\"contained\"\n                            color=\"primary\"\n                            disabled={configuring}\n                            fullWidth={true}\n                            className={classes.button}\n                          >\n                            Connect to Device\n                          </Button>\n                        </Grid>\n                      </Grid>\n                    </div>\n                    <div className={classes.section1}></div>\n                    <Typography> {helperText}</Typography>\n                  </FormControl>\n                </form>\n              </React.Fragment>\n            )}\n          </CardContent>\n        </Card>\n      </Grid>\n      <Grid item>\n        <Card className={classes.divWrapper}>\n          <CardContent>\n            <WebCamera\n              setIsCameraConnected={props.setIsCameraConnected}\n              isCameraConnected={props.isCameraConnected}\n            />\n          </CardContent>\n        </Card>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Configure;\n","// root\nexport const SET_GLOBAL_LOADER = \"SET_GLOBAL_LOADER\";\n\n// errors\nexport const FETCH_DATA_ERROR_MSG = \"FETCH_DATA_ERROR_MSG\";\nexport const SET_DATA_ERROR_MSG = \"SET_DATA_ERROR_MSG\";\n\n// stream\nexport const START_STREAM_SENSOR_SAGA = \"START_STREAM_SENSOR_SAGA\";\nexport const STOP_STREAM_SENSOR_SAGA = \"STOP_STREAM_SENSOR_SAGA\";\nexport const SWITCH_STREAM_SENSOR_RECORD_SAGA =\n  \"SWITCH_STREAM_SENSOR_RECORD_SAGA\";\nexport const SET_IS_STREAMING_SENSOR = \"SET_IS_STREAMING_SENSOR\";\nexport const SET_IS_STREAMING_SENSOR_RECORDING =\n  \"SET_IS_STREAMING_SENSOR_RECORDING\";\nexport const SET_STREAM_SENSOR_DATA_RESET = \"SET_STREAM_SENSOR_DATA_RESET\";\n\n// sensor data\nexport const SET_CHUNK_SENSOR_DATA_SAGA = \"SET_CHUNK_SENSOR_DATA_SAGA\";\nexport const SET_STREAM_SENSOR_DATA = \"SET_STREAM_SENSOR_DATA\";\nexport const SET_STREAM_SENSOR_RECORD_DATA = \"SET_STREAM_SENSOR_RECORD_DATA\";\n\n// classes data\n\nexport const FETCH_CLASS_MAP_IMAGES = \"FETCH_CLASS_MAP_IMAGES\";\nexport const SET_CLASS_MAP_IMAGES = \"SET_CLASS_MAP_IMAGES\";\n\nexport const UPDATE_CLOUD_VERSION = \"UPDATE_CLOUD_VERSION\";\nexport const UPDATE_LOCAL_VERSION = \"UPDATE_LOCAL_VERSION\";\nexport const UPDATE_AVAILABLE = \"UPDATE_AVAILABLE\";\n","import React, { useEffect, useState } from \"react\";\nimport Plot from \"react-plotly.js\";\n\nconst SensorDataChart = (props) => {\n  const { sensorData, title } = props;\n  const [revision, setRevision] = useState(0);\n  let opacity = \"1\";\n\n  useEffect(() => {\n    setRevision(revision + 1);\n    if (sensorData && sensorData.length) {\n      if (sensorData[0].x && sensorData[0].x.length) {\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sensorData]);\n\n  return (\n    <Plot\n      data={sensorData}\n      revision={revision}\n      style={{ width: \"100%\", height: \"100%\", opacity }}\n      layout={{\n        title,\n        visible: false,\n        autosize: true,\n        margin: {\n          l: 50,\n          r: 50,\n          b: 100,\n          t: 100,\n          pad: 4,\n        },\n        xaxis: {\n          autorange: true,\n        },\n        yaxis: {\n          autorange: true,\n        },\n      }}\n    />\n  );\n};\n\nexport default SensorDataChart;\n","import {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Switch,\n  Typography,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  SET_STREAM_SENSOR_DATA_RESET,\n  START_STREAM_SENSOR_SAGA,\n  STOP_STREAM_SENSOR_SAGA,\n} from \"../../redux/actions/actionTypes\";\nimport { sensorDataForChart } from \"../../redux/selectors/sensorData\";\nimport SensorDataChart from \"./SensorDataChart\";\n\nconst useStyles = makeStyles((theme) => ({\n  cardWrapper: {\n    padding: theme.spacing(2),\n  },\n  dataWrapper: {\n    padding: theme.spacing(2),\n  },\n  chartWrapper: {\n    width: \"100%\",\n    margin: theme.spacing(1),\n  },\n  buttonWrapper: {\n    display: \"flex\",\n    marginTop: theme.spacing(2),\n  },\n  button: {\n    marginLeft: theme.spacing(2),\n  },\n  zeroOpacity: {\n    opacity: \"0\",\n  },\n}));\n\nconst SensorStream = (props) => {\n  const COUNT_SAMPLES = 1000;\n  const { columns } = props;\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const [isSplitCharts, SetIsSplitCharts] = useState(false);\n  const { isStreamingSensor, isStreamingSensorRecording } = useSelector(\n    (state) => state.stream\n  );\n  const sensorData = useSelector(sensorDataForChart(columns));\n\n  const startSensorStreaming = useCallback(\n    // max array is COUNT_SAMPLES * count of data types\n    () =>\n      dispatch({\n        type: START_STREAM_SENSOR_SAGA,\n        payload: {\n          countSamples: COUNT_SAMPLES * ((columns && columns?.length) || 1),\n          dataType: props.dataType,\n        },\n      }),\n    [dispatch]\n  );\n\n  const stopSensorStreaming = useCallback(\n    () => dispatch({ type: STOP_STREAM_SENSOR_SAGA }),\n    [dispatch]\n  );\n\n  const setClearStream = useCallback(\n    () => dispatch({ type: SET_STREAM_SENSOR_DATA_RESET, payload: [] }),\n    [dispatch]\n  );\n\n  const switchSplitChart = () => {\n    SetIsSplitCharts(!isSplitCharts);\n  };\n\n  const manageStream = () => {\n    console.log(\"streaming\", isStreamingSensor);\n    if (isStreamingSensor) {\n      stopSensorStreaming();\n    } else {\n      setClearStream();\n      startSensorStreaming();\n    }\n  };\n\n  useEffect(() => {\n    if (!props.isConnected && isStreamingSensor) {\n      stopSensorStreaming();\n      setClearStream();\n    }\n    if (props.isConnected && !isStreamingSensor) {\n      startSensorStreaming();\n    }\n  }, []);\n\n  return (\n    <Card>\n      <CardContent>\n        <Typography component=\"h3\" variant=\"h3\" color=\"secondary\">\n          Test Mode: Data Capture\n        </Typography>\n        <Box className={classes.dataWrapper}>\n          <Box className={classes.chartWrapper}>\n            <Box className={!isStreamingSensor && classes.zeroOpacity}>\n              <Switch\n                checked={isSplitCharts}\n                onChange={() => switchSplitChart()}\n                inputProps={{ \"aria-label\": \"secondary checkbox\" }}\n              />{\" \"}\n              Split charts\n            </Box>\n            {sensorData && sensorData.length && isSplitCharts ? (\n              sensorData.map((data) => (\n                <SensorDataChart\n                  title={data.name}\n                  sensorData={[data]}\n                  isStreamingSensor={isStreamingSensor}\n                />\n              ))\n            ) : (\n              <SensorDataChart\n                sensorData={sensorData}\n                isStreamingSensor={isStreamingSensor}\n              />\n            )}\n          </Box>\n          <Box className={classes.buttonWrapper}>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.button}\n              onClick={() => manageStream()}\n            >\n              {isStreamingSensor ? \"Pause\" : \"Resume\"}\n            </Button>\n          </Box>\n        </Box>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default SensorStream;\n","export const sensorDataForChart = column => (state) => {\n  const { sensorSimpleData } = state.sensorData;\n  // generate chart zero array\n  const result = column.map(name => {\n    return {\n      x: [],\n      y: [],\n      type: 'scatter',\n      mode: 'lines',\n      name,\n    };\n  });\n  // fill result array\n  sensorSimpleData.forEach((el, i) => {\n    result[i % column.length].x.push(Math.floor(i / column.length));\n    result[i % column.length].y.push(el);\n  });\n  return result;\n};\n","import { Typography } from \"@material-ui/core\";\nimport React, { useEffect } from \"react\";\n\nfunction getDifferenceInSeconds(date1, date2) {\n  const diffInMs = Math.abs(date2 - date1);\n  return diffInMs / 1000;\n}\n\nconst ResultsFilter = (props) => {\n  const now = new Date();\n  const [updateTime, setUpdateTime] = React.useState(now);\n  const [isIdle, setIsIdle] = React.useState(false);\n\n  function filterData(data, filter_length) {\n    let result = \"\";\n    if (data.length === 0) {\n      result = \"No Results\";\n      props.setLastValue(result);\n      return result;\n    }\n\n    if (filter_length > data.length) {\n      filter_length = data.length - 1;\n    }\n\n    let m = {};\n    for (var i = data.length - filter_length; i < data.length; i++) {\n      if (data[i].Classification in m) {\n        m[data[i].Classification] += 1;\n      } else {\n        m[data[i].Classification] = 1;\n      }\n    }\n\n    let index = 0;\n    let max = 0;\n    for (const [key, value] of Object.entries(m)) {\n      if (value > max) {\n        max = value;\n        index = key;\n      }\n    }\n\n    if (max < filter_length / 2) {\n      result = \"UNC\";\n      props.setLastValue(result);\n      return result;\n    }\n\n    result = index;\n    props.setLastValue(result);\n    return result;\n\n  }\n\n  useEffect(() => {\n    let right_now = new Date();\n    setUpdateTime(right_now);\n    setIsIdle(false);\n\n  }, [props.data]);\n\n  function checkIdle(time) {\n    const right_now = new Date();\n    if (getDifferenceInSeconds(time, right_now) > props.delay) {\n      setIsIdle(true);\n      props.setLastValue(\"Idle\");\n    }\n  }\n\n  React.useEffect(() => {\n    if (!isIdle) {\n        const interval = setInterval(() => {\n        checkIdle(updateTime);\n    }, 1000);\n\n    return () => {\n      clearInterval(interval);\n    };\n  }\n  }, [updateTime, isIdle]);\n\n  return (\n    <>\n      {isIdle ? (\n        <Typography align=\"center\" variant=\"h1\" component=\"h2\">\n          IDLE\n        </Typography>\n      ) : (\n        <Typography align=\"center\" variant=\"h1\" component=\"h2\">\n          {filterData(props.data, props.filter_length)}\n        </Typography>\n      )}\n    </>\n  );\n};\n\nexport default ResultsFilter;\n","import React, { useState } from \"react\";\r\nimport { Box, Button, Typography } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\n\r\nconst UploadModelJson = (props) => {\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const handleFile = (event) => {\r\n    const uploadedFile = event.target.files[0];\r\n    const reader = new FileReader();\r\n\r\n    reader.readAsText(uploadedFile);\r\n\r\n    reader.onload = function () {\r\n      console.log(reader.result);\r\n      let json_data = {};\r\n      try {\r\n        json_data = JSON.parse(reader.result);\r\n        axios\r\n          .post(`${process.env.REACT_APP_API_URL}config-model-json`, json_data)\r\n          .then((response) => {\r\n            console.log(response.data);\r\n            setErrorMessage(\"\");\r\n          })\r\n          .catch((error) => {\r\n            setErrorMessage(\"upload failed\");\r\n            console.log(error);\r\n          });\r\n      } catch {}\r\n    };\r\n\r\n    reader.onerror = function () {\r\n      console.log(reader.error);\r\n    };\r\n  };\r\n  return (\r\n    <Box>\r\n      <Button variant=\"contained\" component=\"label\">\r\n        Upload Class Map JSON\r\n        <input type=\"file\" hidden onChange={handleFile} />\r\n      </Button>\r\n      <Typography> {errorMessage}</Typography>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default UploadModelJson;\r\n","import React, { useState } from \"react\";\r\nimport { Box, Button, Typography } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\n\r\nconst UploadClassImagesJson = (props) => {\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const handleFile = (event) => {\r\n    const uploadedFile = event.target.files[0];\r\n    const reader = new FileReader();\r\n\r\n    reader.readAsText(uploadedFile);\r\n\r\n    reader.onload = function () {\r\n      console.log(reader.result);\r\n      let json_data = {};\r\n      try {\r\n        json_data = JSON.parse(reader.result);\r\n        axios\r\n          .post(\r\n            `${process.env.REACT_APP_API_URL}config-class-map-images-json`,\r\n            json_data\r\n          )\r\n          .then((response) => {\r\n            console.log(response.data);\r\n            setErrorMessage(\"\");\r\n          })\r\n          .catch((error) => {\r\n            setErrorMessage(\"upload failed\");\r\n            console.log(error);\r\n          });\r\n      } catch {}\r\n    };\r\n\r\n    reader.onerror = function () {\r\n      console.log(reader.error);\r\n    };\r\n  };\r\n  return (\r\n    <Box>\r\n      <Button variant=\"contained\" component=\"label\">\r\n        Upload Class Images JSON\r\n        <input type=\"file\" hidden onChange={handleFile} />\r\n      </Button>\r\n      <Typography> {errorMessage}</Typography>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default UploadClassImagesJson;\r\n","import React, { useEffect, useRef } from \"react\";\nimport _ from \"lodash\";\nimport { Button, Grid, Typography } from \"@material-ui/core\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Slider from \"@material-ui/core/Slider\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport { DataGrid } from \"@material-ui/data-grid\";\nimport ResultsFilter from \"./ResultsFilter\";\nimport UploadModelJson from \"./UploadModelJson\";\nimport UploadClassImagesJson from \"./UploadClassImagesJson\";\n\nvar id_counter = 0;\n\nconst useStyles = makeStyles((theme) => ({\n  controls: {\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n  },\n  root: {\n    width: \"800px\",\n  },\n  sliderroot: {\n    width: \"100%\",\n  },\n  sliderinput: {\n    width: 42,\n  },\n  section1: {\n    margin: theme.spacing(3, 2),\n  },\n  section2: {\n    margin: theme.spacing(2),\n    textAlign: \"center\",\n  },\n  cardBottom: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nfunction bin2String(array) {\n  var results = String.fromCharCode.apply(null, array).split(\"\\n\");\n  results.pop();\n\n  return results.map((x) => {\n    return JSON.parse(x);\n  });\n  // return [];\n}\n\nconst handleStreamRequest = (\n  event,\n  url,\n  setStreamCallback,\n  setIsStreaming,\n  setReader\n) => {\n  id_counter = 0;\n  setStreamCallback([]);\n  setIsStreaming(true);\n  fetch(url, {\n    method: \"GET\",\n  }).then((response) => {\n    const reader = response.body.getReader();\n    setReader(reader);\n    const stream = new ReadableStream({\n      start(controller) {\n        // The following function handles each data chunk\n        function push() {\n          // \"done\" is a Boolean and value a \"Uint8Array\"\n          reader.read().then(({ done, value }) => {\n            // Is there no more data to read?\n            if (done) {\n              // Tell the browser that we have finished sending data\n              setIsStreaming(false);\n              controller.close();\n              return;\n            }\n            var results = bin2String(value);\n\n            for (let i = 0; i < results.length; i++) {\n              console.log(results[i]);\n              results[i].id = id_counter;\n              id_counter += 1;\n              setStreamCallback((x) => [...x, results[i]]);\n            }\n\n            push();\n          });\n        }\n\n        push();\n      },\n    });\n\n    return new Response(stream, { headers: { \"Content-Type\": \"text/html\" } });\n  });\n};\n\nfunction handleStopStreaming(event, reader, setIsStreaming) {\n  reader.cancel();\n  setIsStreaming(false);\n}\n\nconst useCleanup = (val) => {\n  const valRef = useRef(val);\n  useEffect(() => {\n    valRef.current = val;\n  }, [val]);\n\n  useEffect(() => {\n    return () => {\n      valRef.current.cancel();\n    };\n  }, []);\n};\n\nconst Results = (props) => {\n  const [deviceRows, setDeviceRows] = React.useState([]);\n  const [isStreaming, setIsStreaming] = React.useState(false);\n  const [reader, setReader] = React.useState();\n  const [delay, setDelay] = React.useState(5);\n  const [filterLength, setfilterLength] = React.useState(1);\n\n  let deviceColumns = [\n    { field: \"id\", headerName: \"ID\", width: 70 },\n    { field: \"source\", headerName: \"Device ID\", width: 240 },\n    { field: \"ModelNumber\", headerName: \"Model ID\", width: 240 },\n    { field: \"Classification\", headerName: \"Classification\", width: 240 },\n  ];\n\n  const classes = useStyles();\n\n  const handleFilterLengthSliderChange = (event, newValue) => {\n    setfilterLength(newValue);\n  };\n\n  const handleDelayLengthSliderChange = (event, newValue) => {\n    setDelay(newValue);\n  };\n\n  useEffect(() => {\n    handleStreamRequest(\n      \"clicked\",\n      `${process.env.REACT_APP_API_URL}results`,\n      setDeviceRows,\n      setIsStreaming,\n      setReader\n    );\n  }, []);\n\n  useCleanup(reader);\n\n  return (\n    <>\n      <Card>\n        <CardContent>\n          <div className={classes.section1}>\n            <Grid item xs={12}>\n              <Typography\n                align=\"center\"\n                component=\"h2\"\n                variant=\"h2\"\n                color=\"secondary\"\n              >\n                Test Mode: Recognition\n              </Typography>\n            </Grid>\n\n            <div className={classes.section1}>\n              <Divider variant=\"middle\" />\n            </div>\n          </div>\n\n          {/* <Grid item alignContent=\"center\" xs={12}>\n            <ResultsFilter\n              data={deviceRows}\n              filter_length={filterLength}\n              setLastValue={props.setLastValue}\n              delay={delay}\n            ></ResultsFilter>\n          </Grid> */}\n\n          <div className={classes.section1}>\n            <Divider variant=\"middle\" />\n          </div>\n\n          <div className={classes.section1}>\n            <div style={{ height: 600, width: \"100%\" }}>\n              <DataGrid\n                rows={deviceRows}\n                columns={deviceColumns}\n                pageSize={15}\n                sortModel={[{ field: \"id\", sort: \"desc\" }]}\n              />\n            </div>\n          </div>\n          {isStreaming ? (\n            <Button\n              aria-label=\"disconnect\"\n              color=\"primary\"\n              variant=\"contained\"\n              fullWidth={true}\n              onClick={() => {\n                handleStopStreaming(\"stopstreaming\", reader, setIsStreaming);\n              }}\n            >\n              Pause\n            </Button>\n          ) : (\n            <Button\n              aria-label=\"disconnect\"\n              color=\"primary\"\n              variant=\"contained\"\n              fullWidth={true}\n              onClick={() => {\n                handleStreamRequest(\n                  \"clicked\",\n                  `${process.env.REACT_APP_API_URL}results`,\n                  setDeviceRows,\n                  setIsStreaming,\n                  setReader\n                );\n              }}\n            >\n              Resume\n            </Button>\n          )}\n        </CardContent>\n      </Card>\n      <Card className={classes.cardBottom}>\n        <CardContent>\n          <Typography align=\"left\" color=\"primary\" component=\"h5\" variant=\"h5\">\n            Post Processing\n          </Typography>\n\n          <div className={classes.section1}>\n            <Divider variant=\"middle\" />\n          </div>\n\n          <Grid container spacing={4} rows alignItems=\"center\">\n            <Grid item xs={4}>\n              <Typography align=\"center\" component=\"h6\" variant=\"h6\">\n                Majority Vote Buffer\n              </Typography>\n            </Grid>\n\n            <Grid item xs={6}>\n              <div className={classes.sliderroot}>\n                <Slider\n                  value={typeof filterLength === \"number\" ? filterLength : 1}\n                  onChange={handleFilterLengthSliderChange}\n                  aria-labelledby=\"input-slider\"\n                  min={1}\n                  max={10}\n                />\n              </div>\n            </Grid>\n\n            <Grid item xs={1}>\n              <Typography align=\"center\" component=\"h6\" variant=\"h6\">\n                {filterLength}\n              </Typography>\n            </Grid>\n          </Grid>\n\n          <Grid container spacing={4} rows alignItems=\"center\">\n            <Grid item xs={4}>\n              <Typography align=\"center\" component=\"h6\" variant=\"h6\">\n                Idle Delay\n              </Typography>\n            </Grid>\n\n            <Grid item xs={6}>\n              <div className={classes.sliderroot}>\n                <Slider\n                  value={typeof delay === \"number\" ? delay : 5}\n                  onChange={handleDelayLengthSliderChange}\n                  aria-labelledby=\"input-slider\"\n                  min={1}\n                  max={10}\n                />\n              </div>\n            </Grid>\n\n            <Grid item xs={1}>\n              <Typography align=\"center\" component=\"h6\" variant=\"h6\">\n                {delay}\n              </Typography>\n            </Grid>\n          </Grid>\n          <div className={classes.section1}>\n            <Divider variant=\"middle\" />\n          </div>\n\n          <Typography align=\"left\" color=\"primary\" component=\"h5\" variant=\"h5\">\n            Mapping\n          </Typography>\n\n          <div className={classes.section1}>\n            <Divider variant=\"middle\" />\n          </div>\n          <Grid container spacing={2}>\n            <Grid item>\n              <UploadModelJson />\n            </Grid>\n            <Grid item>\n              <UploadClassImagesJson />\n            </Grid>\n          </Grid>\n        </CardContent>\n      </Card>\n    </>\n  );\n};\n\nexport default Results;\n","import {\n  Button,\n  Card,\n  CardContent,\n  Grid,\n  Typography,\n  Tooltip,\n} from \"@material-ui/core\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport axios from \"axios\";\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  details: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  content: {\n    flex: \"1 0 auto\",\n  },\n  controls: {\n    display: \"flex\",\n    alignItems: \"center\",\n    paddingLeft: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n  },\n  section1: {\n    margin: theme.spacing(3, 2),\n  },\n  section2: {\n    margin: theme.spacing(2),\n    textAlign: \"center\",\n  },\n}));\n\nconst Record = (props) => {\n  const classes = useStyles();\n  const [recording, setRecording] = React.useState(props.isRecording);\n  const [filename, setFilename] = React.useState(\"filename\");\n  const [recordDistabled, setRecordDistabled] = React.useState(false);\n  console.log(props.isCameraConnected);\n\n  const handleRecordRequest = (event, url, setRecording, filename) => {\n    setRecordDistabled(true);\n    console.log(event);\n\n    if (filename === \"\") {\n      filename = \"test\";\n    }\n    console.log(filename);\n    axios\n      .post(`${process.env.REACT_APP_API_URL}` + url, {\n        filename: filename,\n        event_type: event,\n      })\n      .then((response) => {\n        console.log(response.data);\n        if (event === \"record-start\") {\n          setRecording(true);\n          console.log(event);\n        }\n        if (event === \"record-stop\") {\n          setRecording(false);\n          console.log(event);\n        }\n        setRecordDistabled(false);\n      })\n      .catch((error) => {\n        console.log(error);\n        setRecordDistabled(false);\n      });\n  };\n\n  const handleDownloadRequest = (event, filename) => {\n    console.log(`${process.env.REACT_APP_API_URL}download/` + filename);\n    fetch(`${process.env.REACT_APP_API_URL}download/` + filename, {\n      method: \"GET\",\n      headers: { \"Content-Type\": \"application/zip\" },\n    })\n      .then((response) => response.blob())\n      .then((blob) => {\n        // Create blob link to download\n        const url = window.URL.createObjectURL(new Blob([blob]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", filename + \".zip\");\n\n        // Append to html link element page\n        document.body.appendChild(link);\n\n        // Start download\n        link.click();\n\n        // Clean up and remove the link\n        link.parentNode.removeChild(link);\n      });\n  };\n  const handleFileNameChange = (event) => {\n    setFilename(event.target.value);\n  };\n\n  return (\n    <Card>\n      <CardContent>\n        <div className={classes.section1}>\n          <Typography component=\"h4\" variant=\"h4\" color=\"secondary\">\n            Record to Gateway\n          </Typography>\n        </div>\n        <Divider variant=\"middle\" />\n        <div className={classes.section2}>\n          <Typography variant=\"subtitle1\" color=\"textSecondary\"></Typography>\n        </div>\n\n        <Grid container columns spacing={6}>\n          <Grid item xs={12}>\n            <TextField\n              id=\"outlined-basic\"\n              variant=\"outlined\"\n              value={filename}\n              onChange={handleFileNameChange}\n              fullWidth={true}\n              disabled={recording}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            {recording === false ? (\n              <Tooltip\n                title=\"This will record the device sensor data in .csv format to the gateway.\n                  If video source is connected, the video source will also be recorded.\n                  \"\n                aria-label=\"record\"\n              >\n                <Button\n                  aria-label=\"Record\"\n                  variant=\"contained\"\n                  fullWidth={true}\n                  disabled={recordDistabled}\n                  onClick={() => {\n                    handleRecordRequest(\n                      \"record-start\",\n                      props.isCameraConnected ? \"record\" : \"record-device\",\n                      setRecording,\n                      filename\n                    );\n                  }}\n                >\n                  Record\n                </Button>\n              </Tooltip>\n            ) : (\n              <Button\n                aria-label=\"Stop \"\n                variant=\"contained\"\n                fullWidth={true}\n                disabled={recordDistabled}\n                onClick={() => {\n                  handleRecordRequest(\n                    \"record-stop\",\n                    props.isCameraConnected ? \"record\" : \"record-device\",\n                    setRecording\n                  );\n                }}\n              >\n                Stop Recording\n              </Button>\n            )}\n          </Grid>\n\n          <Grid item xs={6}>\n            <Tooltip\n              title=\"Download the recorded .csv and .mp4 for this capture from the gateway. A .dcli file will also be generated describing the data.\n                  \"\n              aria-label=\"record\"\n            >\n              <Button\n                aria-label=\"Download \"\n                variant=\"contained\"\n                fullWidth={true}\n                disabled={recordDistabled}\n                onClick={() => {\n                  handleDownloadRequest(\"download\", filename);\n                }}\n              >\n                Download\n              </Button>\n            </Tooltip>\n          </Grid>\n        </Grid>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default Record;\n","import React, { useState } from \"react\";\nimport { Grid, Box, Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { SensorStream } from \"../SensorStream\";\nimport { Results } from \"../Results\";\nimport { Record } from \"../Record\";\n\nimport { useSelector } from \"react-redux\";\nimport { selectClassImage } from \"../../redux/selectors/classes\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n  },\n  details: {\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  content: {\n    flex: \"1 0 auto\",\n  },\n  controls: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n\n  classImageWrapper: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    padding: \"1rem\",\n    marginBottom: \"1rem\",\n    minHeight: \"450px\",\n  },\n\n  classImage: {\n    width: \"90%\",\n  },\n\n  section1: {\n    margin: theme.spacing(3, 2),\n  },\n}));\n\nconst TestMode = (props) => {\n  const classes = useStyles();\n  const [currentClass, setCurrentClass] = useState(\"\");\n  const classImage = useSelector(selectClassImage(currentClass));\n\n  const handleLastValue = (value) => {\n    setCurrentClass(value || \"\");\n  };\n\n  return (\n    <Grid container rows spacing={6}>\n      {props.streamingMode !== \"recognition\" ? (\n        <>\n          <Grid item lg={8} md={12}>\n            <SensorStream\n              columns={props.columns}\n              isConnected={props.isConnected}\n              dataType={props.dataType}\n            />\n          </Grid>\n          <Grid item md={12} lg={4}>\n            <Record\n              isCameraConnected={props.isCameraConnected}\n              isRecording={props.isRecording}\n            />\n          </Grid>\n        </>\n      ) : (\n        <>\n          <Grid item md={12} lg={6}>\n            <Results setLastValue={handleLastValue} />\n          </Grid>\n          <Grid item md={12} lg={6}>\n            <Paper className={classes.imageWrapperCard}>\n              <Box className={classes.classImageWrapper}>\n                {classImage ? (\n                  <img\n                    className={classes.classImage}\n                    src={classImage}\n                    alt={currentClass}\n                  />\n                ) : currentClass ? (\n                  `No Image for ${currentClass}`\n                ) : (\n                  \"\"\n                )}\n              </Box>\n            </Paper>\n\n            <Record\n              isCameraConnected={props.isCameraConnected}\n              isRecording={props.isRecording}\n            />\n          </Grid>\n        </>\n      )}\n    </Grid>\n  );\n};\n\nexport default TestMode;\n","import React, { useCallback, useEffect, useLayoutEffect, useState } from \"react\";\nimport _ from \"lodash\";\nimport { GameMode } from \"components/GameMode\";\n\nimport { Header, NavBar } from \"../Layout\";\nimport useStyles from \"./MainStyles\";\nimport { Grid } from \"@material-ui/core\";\nimport { Configure } from \"../Configure\";\nimport { TestMode } from \"../TestMode\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { useSnackbar } from \"notistack\";\nimport { useDispatch, useSelector, } from \"react-redux\";\nimport { STOP_STREAM_SENSOR_SAGA, FETCH_CLASS_MAP_IMAGES } from \"../../redux/actions/actionTypes\";\nimport axios from \"axios\";\n\n\nconst Main = (props) => {\n\n  const dispatch = useDispatch();\n  const [activeView, setActiveView] = React.useState(0);\n  const [streamingMode, setStreamingMode] = React.useState('DATA_CAPTURE');\n  const [streamingSource, setStreamingSource] = React.useState(null);\n  const [columns, setColumns] = React.useState([]);\n  const [deviceID, setDeviceID] = React.useState([]);\n  const [isConnected, setIsConnected] = React.useState(false);\n  const [isCameraConnected, setIsCameraConnected] = React.useState(false);\n  const [isRecording, setIsRecording] = React.useState(false);\n  const [baudRate, setBaudRate] = React.useState(null);\n  const [config, setConfig] = React.useState({});\n  const [firstLoad, setFirstLoad] = React.useState(null);\n  const [dataType, setDataType] = React.useState('int16');\n  const [gameModeAssets, setGameModeAssets] = useState({});\n\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n  const { isStreamingSensor } = useSelector((state) => state.stream);\n  const { classMapImages } = useSelector((state) => state.classes);\n  const { errorDataMsg } = useSelector((state) => state.errors);\n\n  function handleChange(newValue) {\n    if (activeView !== newValue) {\n      setActiveView(newValue);\n    }\n  }\n\n  function mapdata(data) {\n    if (data.mode) {\n      setStreamingMode(data.mode);\n    }\n    setIsConnected(data.streaming);\n    setColumns(Object.keys(data.column_location).sort());\n    setStreamingSource(data.source?.toUpperCase());\n    setDeviceID(data.device_id);\n    setIsCameraConnected(data.camera_on);\n    setBaudRate(data.baud_rate);\n\n    switch (data.data_type) {\n      case ('int16'):\n        setDataType('int16');\n        break;\n      case ('float'):\n        setDataType('float');\n        break;\n      default:\n        setDataType('int16');\n    }\n\n    data.column_location =\n      \"column_location\" in data\n        ? Object.keys(data.column_location).sort().join(\", \")\n        : [];\n\n    setConfig(data);\n  }\n\n  const alertUser = (e) => {\n    if (isStreamingSensor) {\n      e.preventDefault();\n      e.returnValue = \"\";\n    }\n  };\n\n  const stopSensorStreaming = useCallback(\n    () => dispatch({ type: STOP_STREAM_SENSOR_SAGA }),\n    [dispatch]\n  );\n\n  const fetchClassMapImages = useCallback(\n    () => dispatch({ type: FETCH_CLASS_MAP_IMAGES }),\n    [dispatch]\n  );\n\n  // before leave handler\n  useEffect(() => {\n    if (isStreamingSensor) {\n      window.addEventListener(\"beforeunload\", alertUser);\n      window.addEventListener(\"unload\", stopSensorStreaming);\n      return () => {\n        window.removeEventListener(\"beforeunload\", alertUser);\n        window.removeEventListener(\"unload\", stopSensorStreaming);\n        stopSensorStreaming();\n      };\n    }\n  }, [isStreamingSensor]);\n\n  useEffect(() => {\n    if (errorDataMsg) {\n      enqueueSnackbar(errorDataMsg, { variant: \"warning\" });\n    }\n  }, [errorDataMsg]);\n\n\n  useEffect(() => {\n    if (activeView === 2) {\n      axios.get(`${process.env.REACT_APP_API_URL}game-demo-asset`, {}).then((response) => {\n        setGameModeAssets(response.data);\n        console.log(\"setGameModeAssets\", response.data);\n      });\n    }\n    \n    axios.get(`${process.env.REACT_APP_API_URL}config`, {}).then((response) => {\n      mapdata(response.data);\n      console.log(response.data)\n    });\n    fetchClassMapImages();\n  }, [activeView]);\n\n  useLayoutEffect(() => {\n    axios.get(`${process.env.REACT_APP_API_URL}config`, {}).then((response) => {\n      mapdata(response.data);\n    });\n  }, []);\n\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      {activeView === 2 && !_.isEmpty(gameModeAssets) ?\n        <GameMode\n          classMapImages={classMapImages}\n          audioAction={gameModeAssets.action_audio && `${process.env.REACT_APP_API_URL}${gameModeAssets.action_audio}`}\n          audioSuccess={gameModeAssets.winner_audio && `${process.env.REACT_APP_API_URL}${gameModeAssets.winner_audio}`}\n          audioFail={gameModeAssets.loser_audio && `${process.env.REACT_APP_API_URL}${gameModeAssets.loser_audio}`}\n          winnerImg={gameModeAssets.winner_img && `${process.env.REACT_APP_API_URL}${gameModeAssets.winner_img}`}\n          loserImg={gameModeAssets.loser_img && `${process.env.REACT_APP_API_URL}${gameModeAssets.loser_img}`}\n          countdownTimeDefault={gameModeAssets.countdown_timer}\n          winnerCountThreshold={gameModeAssets.winner_classification_count_threshold}\n          winnerText={gameModeAssets.loser_text}\n          loserText={gameModeAssets.winner_text}\n          onClose={() => handleChange(1)}\n        />\n      :\n        <Grid container direction=\"column\" justify=\"center\" alignItems=\"center\">\n          <Header />\n          <NavBar\n            onChange={handleChange}\n            isConnected={isConnected}\n            isCameraConnected={isCameraConnected}\n\n          />\n          <main className={classes.content}>\n            {activeView === 0 ? (\n              <Configure\n                streamingMode={streamingMode}\n                deviceID={deviceID}\n                setStreamingMode={setStreamingMode}\n                setColumns={setColumns}\n                setStreamingSource={setStreamingSource}\n                setDeviceID={setDeviceID}\n                setIsConnected={setIsConnected}\n                isConnected={isConnected}\n                setIsCameraConnected={setIsCameraConnected}\n                isCameraConnected={isCameraConnected}\n                config={config}\n                setConfig={setConfig}\n                streamingSource={streamingSource}\n                baudRate={baudRate}\n                setBaudRate={setBaudRate}\n              />\n            ) : null}\n            {activeView === 1 ? (\n              <TestMode\n                columns={columns}\n                streamingMode={streamingMode}\n                isConnected={isConnected}\n                isRecording={isRecording}\n                isCameraConnected={isCameraConnected}\n                setIsCameraConnected={setIsCameraConnected}\n                samplerate={config.samplerate}\n                dataType={dataType}\n              />\n            ) : null}\n          </main>\n        </Grid>\n      }\n    </div>\n  );\n};\n\nexport default Main;\n","import { delay, put, takeEvery } from \"redux-saga/effects\";\n\nimport {\n  FETCH_DATA_ERROR_MSG,\n  SET_DATA_ERROR_MSG,\n} from \"../../actions/actionTypes\";\n\nfunction* handleErrorMsg(action) {\n  yield put({ type: SET_DATA_ERROR_MSG, payload: action.payload });\n  yield delay(1000);\n  yield put({ type: SET_DATA_ERROR_MSG, payload: null });\n}\n\nexport default function* watchErrorSaga() {\n  yield takeEvery(FETCH_DATA_ERROR_MSG, handleErrorMsg);\n}\n","export class BaseStreamHttpError extends Error {\n  constructor(errorCode, response) {\n    super();\n    if (errorCode !== 500) {\n      this.detail = response.detail;\n    } else {\n      this.detail = 'Server Error. Please, contact support.';\n    }\n    this.name = this.constructor.name;\n    this.errorCode = errorCode;\n  }\n}","import { BaseStreamHttpError } from \"./errors\";\n\nimport store from \"../../redux/store\";\n\nclass StreamReader {\n  /* *\n   * StreamReader class based on browser fetch method for handling stream data to\n   * @constructs\n   * @param {string} fetchUrl - endpoint fetch url\n   * */\n  constructor(fetchUrl) {\n    /* @param {string} fetchUrl - endpoint fetch url */\n    this.reader = undefined;\n    this.fetchUrl = fetchUrl;\n  }\n\n  async startStreaming() {\n    /*\n      fetch streaming endpoint and setup this.reader\n    */\n    let response;\n    console.log(\"getting response\");\n    try {\n      response = await fetch(this.fetchUrl);\n    } catch (error) {\n      console.log(error);\n      throw new BaseStreamHttpError(404, {\n        detail: \"Failed to fetch API service\",\n      });\n    }\n    if (!response.ok) {\n      throw new BaseStreamHttpError(response.status, {\n        detail: response.statusText,\n      });\n    }\n    console.log(\"getting reader\");\n    this.reader = response.body.getReader();\n  }\n\n  async stopStreaming() {\n    if (this.reader) {\n      this.reader.cancel();\n      this.reader = undefined;\n    }\n  }\n\n  async readStreamToRedux(actionType, countSamples = 0, dataType = 'int16') {\n    /*\n      read and write array by chunk to redux\n      @param {string} actionType - redux action const name\n      @param {number} maxLength - max length of redux streamed array\n    * */\n    console.log('DATA TYPE IS ' + dataType);\n    const arrayType = dataType === 'float' ? Float32Array : Int16Array;\n    while (true) {\n      const { value, done } = await this.reader.read();\n      if (done) break;\n      store.dispatch({\n        type: actionType,\n        payload: { chunk: new arrayType(value.buffer), countSamples },\n      });\n    }\n  }\n}\n\nexport { BaseStreamHttpError };\nexport default StreamReader;\n","import StreamReader from \"../../services/StreamReader\";\nimport { apiHosts } from \"../../configs\";\n\nexport let streamSensorReader = undefined;\n\nexport const initStreamSensorReader = () => {\n  streamSensorReader = new StreamReader(`${apiHosts.baseHost}stream`);\n};","import { call, put, takeLatest } from \"redux-saga/effects\";\n\nimport { streamSensorReader } from \"../../repositories/StreamSensorReader\";\nimport { BaseStreamHttpError } from \"../../../services/StreamReader\";\nimport {\n  FETCH_DATA_ERROR_MSG,\n  SET_CHUNK_SENSOR_DATA_SAGA,\n  SET_IS_STREAMING_SENSOR,\n  START_STREAM_SENSOR_SAGA,\n} from \"../../actions/actionTypes\";\n\nfunction* workerStreamStart(action) {\n  try {\n    const { countSamples, dataType } = action?.payload;\n    console.log(action.payload);\n\n    yield call([streamSensorReader, \"startStreaming\"]);\n    yield put({ type: SET_IS_STREAMING_SENSOR, payload: true });\n    yield call(\n      [streamSensorReader, \"readStreamToRedux\"],\n      SET_CHUNK_SENSOR_DATA_SAGA,\n      countSamples,\n      dataType,\n    );\n  } catch (e) {\n    console.debug(e);\n    if (e instanceof BaseStreamHttpError) {\n      yield put({ type: FETCH_DATA_ERROR_MSG, payload: e.detail });\n    } else {\n      yield put({\n        type: FETCH_DATA_ERROR_MSG,\n        payload: \"Failed to read stream data\",\n      });\n    }\n  }\n}\n\nexport default function* watchStreamSensorStart() {\n  yield takeLatest(START_STREAM_SENSOR_SAGA, workerStreamStart);\n}\n","import { call, put, takeLatest } from \"redux-saga/effects\";\nimport { streamSensorReader } from \"../../repositories/StreamSensorReader\";\nimport { SET_IS_STREAMING_SENSOR, STOP_STREAM_SENSOR_SAGA, } from \"../../actions/actionTypes\";\n\n\nfunction* workerStreamStop(action) {\n  try {\n    yield call([streamSensorReader, 'stopStreaming']);\n    yield put({ type: SET_IS_STREAMING_SENSOR, payload: false });\n  } catch (e) {\n    console.debug(e);\n  }\n}\n\nexport default function* watchStreamSensorStop() {\n  yield takeLatest(STOP_STREAM_SENSOR_SAGA, workerStreamStop);\n}\n","import { all, fork } from \"redux-saga/effects\";\n\nimport watchStreamSensorStart from \"./watchStreamSensorStart\";\nimport watchStreamSensorStop from \"./watchStreamSensorStop\";\n\nexport default function* streamSagas() {\n  yield all([\n    fork(watchStreamSensorStart),\n    fork(watchStreamSensorStop),\n  ]);\n}\n\n","import { put, select, takeLatest } from \"redux-saga/effects\";\nimport {\n  SET_CHUNK_SENSOR_DATA_SAGA,\n  SET_STREAM_SENSOR_DATA,\n  SET_STREAM_SENSOR_RECORD_DATA,\n} from \"../../actions/actionTypes\";\n\nfunction* workerSetStreamChunkSensorData(action) {\n  try {\n    const { chunk, countSamples } = action.payload;\n    const chunkLength = (chunk && chunk.length) || 0;\n    let updatedSensorSimpleData = [];\n\n    const { sensorSimpleData, sensorRecordedData } = yield select(\n      (state) => state.sensorData\n    );\n    const { isStreamingSensorRecording } = yield select(\n      (state) => state.stream\n    );\n    console.log(\"called\", chunkLength / (2 * 6));\n\n    // when chunk greater than max of count samples set all chunk data or if countSamples == 0\n    if (chunkLength >= countSamples) {\n      updatedSensorSimpleData = [...chunk];\n    } else if (sensorSimpleData.length >= countSamples) {\n      // when reach countSamples limit\n      updatedSensorSimpleData = [...sensorSimpleData];\n      let [left, right, chunkI] = [0, sensorSimpleData.length, 0];\n      while (left < right) {\n        if (right - left > chunkLength) {\n          updatedSensorSimpleData[left] = sensorSimpleData[left + chunkLength];\n        } else {\n          updatedSensorSimpleData[left] = chunk[chunkI];\n          chunkI++;\n        }\n        left++;\n      }\n    } else {\n      updatedSensorSimpleData = [...sensorSimpleData, ...chunk];\n    }\n\n    yield put({\n      type: SET_STREAM_SENSOR_DATA,\n      payload: updatedSensorSimpleData,\n    });\n    // update whole list if recording\n    if (isStreamingSensorRecording) {\n      yield put({\n        type: SET_STREAM_SENSOR_RECORD_DATA,\n        payload: [...sensorRecordedData, ...chunk],\n      });\n    }\n  } catch (e) {\n    console.debug(e);\n  }\n}\n\nexport default function* watchSetChunkSensorData() {\n  yield takeLatest(SET_CHUNK_SENSOR_DATA_SAGA, workerSetStreamChunkSensorData);\n}\n","import { all, fork } from \"redux-saga/effects\";\n\nimport watchSetChunkSensorData from \"./watchSetChunkSensorData\";\n\nexport default function* sensorDataSagas() {\n  yield all([\n    fork(watchSetChunkSensorData),\n  ]);\n}\n","import axios from \"axios\";\n\n\nconst ApiService = {\n  // Stores the 401 interceptor position so that it can be later ejected when needed\n  interceptor_401: null,\n  refreshUrl: '/auth/refresh',\n\n\n  init(baseURL) {\n    axios.defaults.baseURL = baseURL;\n  },\n\n\n  mount401Interceptor() {\n    this.interceptor_401 = axios.interceptors.response.use((response) => response,\n      async (error) => {\n        if (error.request.status === 401) {\n          if (error.config.url.includes('auth')) {\n            // Refresh token has failed or auth endpoint return 401 => Logout the user\n            throw error;\n          } else {\n            // refresh token\n          }\n        }\n        // If error was not 401 just reject as is\n        throw error;\n      });\n  },\n\n\n  unmount401Interceptor() {\n    // Eject the interceptor\n    axios.interceptors.response.eject(this.interceptor_401);\n  },\n\n  setCustomAuthHeader(key) {\n    axios.defaults.headers.common.Authorization = key;\n  },\n\n  setContentType(type) {\n    axios.defaults.headers.contentType = type;\n  },\n\n  removeHeader() {\n    axios.defaults.headers.common = {};\n  },\n\n  get(resource) {\n    return axios.get(resource);\n  },\n\n  post(resource, data) {\n    return axios.post(resource, data);\n  },\n\n  put(resource, data) {\n    return axios.put(resource, data);\n  },\n\n  delete(resource) {\n    return axios.delete(resource);\n  },\n\n  customRequest(data) {\n    return axios(data);\n  },\n\n  customJsonRequest(data) {\n    this.setAuthHeader();\n    this.setContentType('application/json');\n    return axios(data);\n  },\n\n};\n\nexport default ApiService;\n","/* eslint-disable require-yield */\nimport _ from \"lodash\";\nimport { put, takeEvery } from \"redux-saga/effects\";\n\nimport ApiService from \"../../../services/api\";\nimport {\n  FETCH_CLASS_MAP_IMAGES,\n  SET_CLASS_MAP_IMAGES,\n} from \"../../actions/actionTypes\";\n\nfunction* classesMapImagesSagas() {\n  const reponse = yield ApiService.get(\"class-map-images\");\n\n  if (!_.isEmpty(reponse.data)) {\n    const payload = yield  reponse.data.reduce(\n      (acc, el) => {\n        acc[el.name] = el.img;\n        return acc;\n      },\n      {}\n    );\n    yield put({ type: SET_CLASS_MAP_IMAGES, payload });\n  }\n}\n\nexport default function* watchErrorSaga() {\n  yield takeEvery(FETCH_CLASS_MAP_IMAGES, classesMapImagesSagas);\n}\n","import { all, fork } from \"redux-saga/effects\";\n\nimport watchErrorSaga from \"./errors\";\nimport streamSagas from \"./stream\";\nimport sensorDataSagas from \"./sensorData\";\nimport classesSagas from \"./classes\";\n\nexport default function* rootSaga() {\n  yield all([\n    fork(streamSagas),\n    fork(watchErrorSaga),\n    fork(sensorDataSagas),\n    fork(classesSagas),\n  ]);\n}\n","import {\n  SET_GLOBAL_LOADER,\n} from '../../actions/actionTypes';\n\nconst initialState = {\n  globalLoader: false,\n};\n\n\nexport default function rootData(state = initialState, action) {\n  switch (action.type) {\n    case SET_GLOBAL_LOADER:\n      return {\n        ...state,\n        globalLoader: action.payload || false,\n      };\n    default:\n      return state;\n  }\n}","import { SET_DATA_ERROR_MSG } from \"../../actions/actionTypes\";\n\nconst initialState = {\n  errorDataMsg: null,\n};\n\nexport default function rootData(state = initialState, action) {\n  switch (action.type) {\n    case SET_DATA_ERROR_MSG:\n      return {\n        ...state,\n        errorDataMsg: action.payload,\n      };\n    default:\n      return state;\n  }\n}","import { SET_IS_STREAMING_SENSOR, SET_IS_STREAMING_SENSOR_RECORDING, } from \"../../actions/actionTypes\";\n\nconst initialState = {\n  isStreamingSensor: false,\n  isStreamingSensorRecording: false,\n};\n\nexport default function streamData(state = initialState, action) {\n  switch (action.type) {\n    case SET_IS_STREAMING_SENSOR:\n      return {\n        ...state,\n        isStreamingSensor: action.payload,\n      };\n    case SET_IS_STREAMING_SENSOR_RECORDING:\n      return {\n        ...state,\n        isStreamingSensorRecording: action.payload,\n      };\n    default:\n      return state;\n  }\n}","import {\n  SET_STREAM_SENSOR_DATA,\n  SET_STREAM_SENSOR_RECORD_DATA,\n  SET_STREAM_SENSOR_DATA_RESET,\n} from \"../../actions/actionTypes\";\n\nconst initialState = {\n  sensorSimpleData: new Int16Array(),\n  sensorRecordedData: new Int16Array(),\n};\n\nexport default function sensorData(state = initialState, action) {\n  switch (action.type) {\n    case SET_STREAM_SENSOR_DATA_RESET:\n      return {\n        ...state,\n        sensorSimpleData: new Int16Array(),\n        sensorRecordedData: new Int16Array(),\n      };\n    case SET_STREAM_SENSOR_DATA:\n      return {\n        ...state,\n        sensorSimpleData: [...action.payload],\n      };\n    case SET_STREAM_SENSOR_RECORD_DATA:\n      return {\n        ...state,\n        sensorRecordedData: [...action.payload],\n      };\n    default:\n      return state;\n  }\n}\n","import { SET_CLASS_MAP_IMAGES } from \"../../actions/actionTypes\";\n\nconst initialState = {\n  classMapImages: {},\n};\n\nexport default function classesData(state = initialState, action) {\n  switch (action.type) {\n    case SET_CLASS_MAP_IMAGES:\n      return {\n        ...state,\n        classMapImages: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n","import {\n  UPDATE_CLOUD_VERSION,\n  UPDATE_AVAILABLE,\n  UPDATE_LOCAL_VERSION,\n} from \"../../actions/actionTypes\";\n\nconst initialState = {\n  localVersion: \"\",\n  cloudVersion: \"\",\n  updateAvailable: false\n}\n\nexport default function versionData(state = initialState, action) {\n  switch (action.type) {\n    case UPDATE_CLOUD_VERSION:\n      return {\n        ...state,\n        cloudVersion: action.payload\n      };\n    case UPDATE_AVAILABLE:\n      return {\n        ...state,\n        updateAvailable: state.localVersion < state.cloudVersion\n      };\n    case UPDATE_LOCAL_VERSION:\n      return {\n        ...state,\n        localVersion: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\n// modules\nimport rootData from \"./root\";\nimport errors from \"./errors\";\nimport streamData from \"./stream\";\nimport sensorData from \"./sensorData\";\nimport classesData from \"./classes\";\nimport versionData from \"./version\";\n\nconst createAppReducer = () => combineReducers({\n  root: rootData,\n  errors,\n  stream: streamData,\n  sensorData,\n  versionData,\n  classes: classesData,\n});\n\nexport default createAppReducer;\n","import createSagaMiddleware from \"redux-saga\";\n\nimport { applyMiddleware, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nimport rootSaga from \"./sagas\";\nimport createAppReducer from \"./reducers\";\n\nconst sagaMiddleware = createSagaMiddleware();\nconst enhancers = [];\n\nconst middleware = [\n  sagaMiddleware,\n];\n\nconst composedEnhancers = composeWithDevTools(\n  applyMiddleware(...middleware),\n  ...enhancers,\n);\n\nconst appReducer = createAppReducer();\n\nconst store = createStore(\n  appReducer,\n  composedEnhancers,\n);\n\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","import \"./App.css\";\n\nimport React, { useEffect } from \"react\";\nimport { LightTheme } from \"./components/Themes\";\nimport { Main } from \"./components/Main\";\nimport { Provider } from \"react-redux\";\nimport { SnackbarProvider } from \"notistack\";\n\nimport store from \"./redux/store\";\nimport { initStreamSensorReader } from \"./redux/repositories/StreamSensorReader\";\n\nimport ApiService from \"./services/api\";\nimport { apiHosts } from \"./configs\";\n\nApiService.init(apiHosts.baseHost);\n// initialize StreamSensorReader for handle as entrypoint\ninitStreamSensorReader();\n\nconst App = (props) => {\n\n  useEffect(() => {\n    const updateVersion = async () => {\n      await props.versionCheck.checkUpdate();\n    };\n    updateVersion();\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <LightTheme>\n      <Provider store={store}>\n        <SnackbarProvider\n          anchorOrigin={{\n            horizontal: \"right\",\n            vertical: \"top\",\n          }}\n          autoHideDuration={2000}\n        >\n          <Main />\n        </SnackbarProvider>\n      </Provider>\n    </LightTheme>\n  );\n};\n\nexport default App;\n","import axios from \"axios\";\nimport { BaseStreamHttpError } from \"../StreamReader\";\nimport store from \"../../redux/store\";\nimport { UPDATE_AVAILABLE, UPDATE_CLOUD_VERSION, UPDATE_LOCAL_VERSION } from \"../../redux/actions/actionTypes\";\n\nexport class VersionCheck {\n  constructor(baseURL, cloudURL) {\n    this.baseurl = baseURL;\n    this.cloudurl = cloudURL;\n    this.localVersion = \"\";\n    this.cloudVersion = \"\";\n    this.updateAvailable = false;\n  }\n\n  async checkUpdate() {\n    let localResponse;\n    let response;\n    try {\n      localResponse = await axios.get(`${this.baseurl}version`);\n    } catch (error) {\n      console.log(error);\n      throw new BaseStreamHttpError(404, {\n        detail: \"Failed to fetch API service\",\n      });\n    }\n    if (localResponse.statusText !== \"OK\") {\n      throw new BaseStreamHttpError(response.status, {\n        detail: localResponse.statusText,\n      });\n    }\n    this.localVersion = localResponse.data\n    store.dispatch({ type: UPDATE_LOCAL_VERSION, payload: localResponse.data });\n\n    try {\n      let url = `${this.cloudurl}version/?format=json`\n      response = await axios.get(url, {\n        headers: { 'Content-Type': 'application/json' },\n      });\n    } catch (error) {\n      console.log(error);\n      return;\n    }\n    if (response.statusText !== \"OK\") {\n      return;\n    }\n    let cloudResp = response.data;\n    if (cloudResp.SensiML_Open_Gateway_Windows) {\n      this.cloudVersion = cloudResp.SensiML_Open_Gateway_Windows;\n      store.dispatch({ type: UPDATE_CLOUD_VERSION, payload: cloudResp.SensiML_Open_Gateway_Windows });\n      store.dispatch({ type: UPDATE_AVAILABLE, payload: (this.localVersion < this.cloudVersion) });\n    }\n\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {VersionCheck} from \"./services/VersionCheck\";\nimport {apiHosts} from \"./configs\";\n\nconst versionCheck = new VersionCheck(apiHosts.baseHost, apiHosts.cloudHost);\n\nReactDOM.render(\n  <App versionCheck={versionCheck}/>,\n  document.getElementById('root'),\n);\n\n"],"sourceRoot":""}