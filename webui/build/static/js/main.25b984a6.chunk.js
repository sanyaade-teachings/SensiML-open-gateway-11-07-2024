(this.webpackJsonpwebui=this.webpackJsonpwebui||[]).push([[0],{152:function(e,t,n){},153:function(e,t,n){},182:function(e,t,n){"use strict";n.r(t);var a=n(4),c=n(0),o=n.n(c),r=n(13),s=n.n(r),i=(n(152),n(153),n(233)),l=n(234),d=n(235),j=n(71),u=n(17),b=n(117),h=n(236),x=function(e){var t=Object(u.a)(),n=Object(b.a)({palette:{primary:{light:i.a[600],main:i.a[800],dark:i.a[800],contrastText:t.palette.getContrastText(i.a[800])},accent:{light:l.a[200],main:l.a[500],dark:l.a[800],contrastText:t.palette.getContrastText(l.a[500])},secondary:{light:i.a[600],main:i.a[700],dark:i.a[800],contrastText:t.palette.getContrastText(i.a[600])},notSelected:{light:d.a[500],main:d.a[700],dark:d.a[800],contrastText:t.palette.getContrastText(d.a[600])},error:{light:j.a[200],main:j.a[500],dark:j.a[800],contrastText:t.palette.getContrastText(j.a[500])}}});return Object(a.jsx)(h.a,{theme:n,children:e.children})},f=n(8),m=n(238),O=n(240),p=n(59),g=n(58),v=function(){var e=Object(g.a)((function(e){return{navbarDisplayFlex:{display:"flex",justifyContent:"space-between"},navDisplayFlex:{display:"flex-right",justifyContent:"space-between"},linkText:{textDecoration:"none",textTransform:"uppercase",color:"white"},appBar:{zIndex:e.zIndex.drawer+1}}}))();return Object(a.jsx)(m.a,{position:"static",className:e.appBar,children:Object(a.jsx)(O.a,{children:Object(a.jsx)(p.a,{variant:"h6",children:"SensiML Streaming Gateway"})})})},y=n(246),S=n(185),w=n(186),C=n(187),D=n(241),N=n(113),k=n.n(N),I=n(111),T=n.n(I),R=n(110),M=n.n(R),E=n(112),_=n.n(E),B=Object(g.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}})),L=function(e){switch(e.index){case 0:return Object(a.jsx)(M.a,{});case 1:return Object(a.jsx)(T.a,{});case 2:return Object(a.jsx)(_.a,{});default:return Object(a.jsx)(k.a,{})}},G=function(e){var t=B();return Object(a.jsxs)(y.a,{className:t.drawer,variant:"permanent",classes:{paper:t.drawerPaper},children:[Object(a.jsx)(O.a,{}),Object(a.jsx)("div",{className:t.drawerContainer,children:Object(a.jsx)(S.a,{children:["Gateway Status","Configure Gateway","Stream"].map((function(t,n){return Object(a.jsxs)(w.a,{button:!0,onClick:(c=n,function(t){e.onChange(c)}),children:[Object(a.jsx)(C.a,{children:Object(a.jsx)(L,{index:n,children:" "})}),Object(a.jsx)(D.a,{primary:t})]},t);var c}))})})]})},z=n(114),F=function(){return Object(g.a)((function(e){return{root:{display:"flex"},toolbar:Object(z.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,width:"100%",padding:e.spacing(5,40),justifyContent:"flex-end"}}}))()},J=n(242),P=n(33),q=n.n(P),A=function(e){var t=Object(c.useState)([]),n=Object(f.a)(t,2),o=n[0],r=n[1];return Object(c.useEffect)((function(){q.a.get("".concat("http://localhost:5555/","config")).then((function(t){return r(function(t){t.mode&&e.setStreamingMode(t.mode);return t.streaming=t.streaming?"Yes":"No",e.setColumns(Object.keys(t.column_location).sort()),t.column_location="column_location"in t?Object.keys(t.column_location).sort().join(", "):[],t}(t.data))}))}),[]),Object(a.jsxs)(J.a,{xs:12,children:[Object(a.jsxs)(J.a,{children:[Object(a.jsx)(p.a,{color:"primary",children:" Configured Mode: "}),Object(a.jsx)(p.a,{children:o.mode}),Object(a.jsx)(p.a,{color:"primary",children:"Streaming: "}),Object(a.jsx)(p.a,{children:o.streaming}),Object(a.jsx)(p.a,{color:"primary",children:"Sensors: "}),Object(a.jsx)(p.a,{children:o.source})]}),"streaming"===o.mode?Object(a.jsxs)(J.a,{children:[Object(a.jsx)(p.a,{color:"primary",children:"Sample Rate: "}),Object(a.jsx)(p.a,{children:o.sample_rate}),Object(a.jsx)(p.a,{color:"primary",children:"Columns:"}),Object(a.jsx)(p.a,{children:o.column_location})]}):Object(a.jsx)(a.Fragment,{})]})},H=n(245),K=n(247),Y=n(193),Q=n(52),U=n(192),V=n(190),W=n(53),X=n(121),Z=n(69),$=n(194),ee=Object(g.a)((function(e){return{formControl:{margin:e.spacing(3)},button:{margin:e.spacing(1,1,0,0)},root:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1)}}})),te=function(e){var t=ee(),n=o.a.useState("Serial"),c=Object(f.a)(n,2),r=c[0],s=c[1],i=o.a.useState("config"),l=Object(f.a)(i,2),d=l[0],j=l[1],u=o.a.useState(""),b=Object(f.a)(u,2),h=b[0],x=b[1],m=o.a.useState(!1),O=Object(f.a)(m,2),g=O[0],v=O[1],y=o.a.useState(""),S=Object(f.a)(y,2),w=S[0],C=S[1],D=o.a.useState([]),N=Object(f.a)(D,2),k=N[0],I=N[1],T=o.a.useState([{field:"id",headerName:"ID",width:120},{field:"device_id",headerName:"Device ID",width:240},{field:"name",headerName:"Name",width:240}]),R=Object(f.a)(T,2),M=R[0];R[1];return Object(a.jsxs)(J.a,{xs:12,container:!0,direction:"columns",children:[Object(a.jsx)(J.a,{xs:4,children:Object(a.jsx)("form",{onSubmit:function(t){t.preventDefault(),""!==h?(console.log(r),console.log(h),q.a.post("".concat("http://localhost:5555/")+d,{device_id:h,source:r.toLowerCase()}).then((function(t){console.log(t.data),console.log(e),e.setStreamingMode(t.data.mode),C("Configured Device")})).catch((function(e){e.response?(C(e.response.data.error.message.join(", ")),console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message)}))):C("Must Set DeviceID")},children:Object(a.jsxs)(Q.a,{component:"fieldset",error:g,className:t.formControl,children:[Object(a.jsx)(V.a,{component:"legend",children:"Source:"}),Object(a.jsxs)(K.a,{"aria-label":"source",name:"source",value:r,onChange:function(e){s(e.target.value)},children:[Object(a.jsx)(Y.a,{value:"Serial",control:Object(a.jsx)(H.a,{}),label:"Serial"}),Object(a.jsx)(Y.a,{value:"BLE",control:Object(a.jsx)(H.a,{}),label:"BLE"}),Object(a.jsx)(Y.a,{value:"Test",control:Object(a.jsx)(H.a,{}),label:"Test"})]}),Object(a.jsxs)(p.a,{component:"div",children:[Object(a.jsx)(V.a,{component:"legend",children:"Mode:"}),Object(a.jsxs)(J.a,{component:"label",container:!0,alignItems:"center",spacing:1,children:[Object(a.jsx)(J.a,{item:!0,children:"Sensor Data"}),Object(a.jsx)(J.a,{item:!0,children:Object(a.jsx)($.a,{name:"checkedC",onChange:function(e){console.log("HEREREER"),console.log(e.target.checked),e.target.checked?j("config-results"):j("config")}})}),Object(a.jsx)(J.a,{item:!0,children:"KP Results"})]})]}),Object(a.jsx)(V.a,{component:"legend",children:"Device ID:"}),Object(a.jsx)(X.a,{id:"outlined-basic",variant:"outlined",value:h,onChange:function(e){x(e.target.value),C(" "),v(!1)}}),Object(a.jsx)(W.a,{type:"submit",variant:"outlined",color:"primary",className:t.button,children:"Configure"}),Object(a.jsx)(U.a,{children:w})]})})}),Object(a.jsxs)(J.a,{xs:8,children:[Object(a.jsx)(W.a,{type:"submit",variant:"outlined",color:"primary",className:t.button,onClick:function(){q.a.post("".concat("http://localhost:5555/","scan"),{device_id:h,source:r.toLowerCase()}).then((function(e){console.log(e.data),I(e.data)}))},children:"Scan"}),Object(a.jsx)(Z.a,{rows:k,columns:M,onRowSelected:function(e){console.log(e.data.device_id),x(e.data.device_id)}})]})]})},ne=n(16),ae=n(116),ce=n.n(ae),oe=function(e){return Object(a.jsx)(ce.a,{data:e.data,layout:{autosize:!0}})},re=Object(g.a)((function(e){return{root:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1)}}}));var se=function(e,t,n,a){fetch(t,{method:"GET"}).then((function(e){var t=e.body.getReader(),c=new ReadableStream({start:function(e){!function c(){t.read().then((function(t){var o=t.done,r=t.value;if(o)e.close();else{var s=new Int16Array(r.buffer);n(function(e,t){for(var n=e.length/t.length,a=Object(ne.a)(Array(n).keys()),c=t.map((function(e){return{x:a,y:[],name:e}})),o=0;o<e.length;o+=t.length)for(var r=0;r<t.length;r++)c[r].y.push(e[o+r]);return c}(s,a)),c()}}))}()}});return new Response(c,{headers:{"Content-Type":"text/html"}})}))},ie=function(e){var t=re();Object(u.a)();return Object(a.jsxs)("div",{className:t.details,children:[Object(a.jsx)(p.a,{component:"h5",variant:"h5",children:"Sensor Data"}),Object(a.jsx)(p.a,{variant:"subtitle1",color:"textSecondary"}),Object(a.jsx)(oe,{data:e.streamData}),Object(a.jsxs)("div",{className:t.controls,children:[Object(a.jsx)(W.a,{"aria-label":"disconnect",onClick:function(){se(0,"".concat("http://localhost:5555/","stream"),e.setStreamData,e.columns)},children:"Stream"}),Object(a.jsx)(W.a,{"aria-label":"disconnect",onClick:function(){q.a.get("".concat("http://localhost:5555/","disconnect")).then((function(e){console.log(e.data)}))},children:"Disconnect"})]})]})},le=0,de=Object(g.a)((function(e){return{root:{display:"flex"},details:{display:"flex",flexDirection:"column"},content:{flex:"1 0 auto"},controls:{display:"flex",alignItems:"center",paddingLeft:e.spacing(1),paddingBottom:e.spacing(1)}}}));var je=function(e,t,n){le=0,n([]),fetch(t,{method:"GET"}).then((function(e){var t=e.body.getReader(),a=new ReadableStream({start:function(e){!function a(){t.read().then((function(t){var c=t.done,o=t.value;if(c)e.close();else{for(var r=function(e){var t=String.fromCharCode.apply(null,e).split("\n");return t.pop(),t.map((function(e){return JSON.parse(e)}))}(o),s=0;s<r.length;s++)console.log(r[s]),r[s].id=le,le+=1,n((function(e){return[].concat(Object(ne.a)(e),[r[s]])}));a()}}))}()}});return new Response(a,{headers:{"Content-Type":"text/html"}})}))},ue=function(e){var t=o.a.useState([{field:"id",headerName:"ID",width:70},{field:"ModelNumber",headerName:"Model ID",width:240},{field:"Classification",headerName:"Classification",width:240}]),n=Object(f.a)(t,2),c=n[0],r=(n[1],de());Object(u.a)();return Object(a.jsxs)(J.a,{children:[Object(a.jsxs)("div",{className:r.details,children:[Object(a.jsx)(p.a,{component:"h5",variant:"h5",children:"Model Result"}),Object(a.jsx)(p.a,{variant:"subtitle1",color:"textSecondary"}),Object(a.jsxs)("div",{className:r.controls,children:[Object(a.jsx)(W.a,{"aria-label":"disconnect",onClick:function(){je(0,"".concat("http://localhost:5555/","results"),e.setDeviceRows)},children:"Connect"}),Object(a.jsx)(W.a,{"aria-label":"disconnect",onClick:function(){q.a.get("".concat("http://localhost:5555/","disconnect")).then((function(e){console.log(e.data)}))},children:"Disconnect"})]})]}),Object(a.jsx)("div",{style:{height:600,width:"100%"},children:Object(a.jsx)(Z.a,{rows:e.deviceRows,columns:c,pageSize:15,sortModel:[{field:"id",sort:"desc"}]})})]})},be=n(243),he=function(){var e=o.a.useState(0),t=Object(f.a)(e,2),n=t[0],c=t[1],r=o.a.useState(0),s=Object(f.a)(r,2),i=s[0],l=s[1],d=o.a.useState([]),j=Object(f.a)(d,2),u=j[0],b=j[1],h=o.a.useState([]),x=Object(f.a)(h,2),m=x[0],O=x[1],p=o.a.useState([]),g=Object(f.a)(p,2),y=g[0],S=g[1];var w=F();return Object(a.jsxs)("div",{className:w.root,children:[Object(a.jsx)(be.a,{}),Object(a.jsxs)(J.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(a.jsx)(v,{}),Object(a.jsx)(G,{onChange:function(e){n!=e&&c(e)}}),Object(a.jsxs)("main",{className:w.content,children:[0===n?Object(a.jsx)(A,{setStreamingMode:l,setColumns:S}):null,1===n?Object(a.jsx)(te,{setStreamingMode:l}):null,2===n?"results"==i?Object(a.jsx)(ue,{deviceRows:m,setDeviceRows:O}):Object(a.jsx)(ie,{streamData:u,setStreamData:b,columns:y}):null]})]})]})},xe=function(){return Object(a.jsx)(x,{children:Object(a.jsx)(he,{})})};s.a.render(Object(a.jsx)(xe,{}),document.getElementById("root"))}},[[182,1,2]]]);
//# sourceMappingURL=main.25b984a6.chunk.js.map